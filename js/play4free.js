!function(e){function t(t){for(var i,s,r=t[0],c=t[1],l=t[2],p=0,u=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);u.length;)u.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={1:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/modern-3/en/";var r=(c=window.webpackJsonp=window.webpackJsonp||[]).push.bind(c);c.push=t;for(var c=c.slice(),l=0;l<c.length;l++)t(c[l]);var d=r;a.push([576,0]),n()}({106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=n(2),t.ConfigToken=new n.OpaqueToken("config"),t.fromPreconfig=function(){return{cdnUrl:preconfig.cdnUrl,ref:preconfig.ref,lang:preconfig.lang,geoCode:preconfig.geoCode,isLogged:preconfig.isLogged,isBonus:preconfig.isBonus,isEmailConfirmed:preconfig.isEmailConfirmed,doi:preconfig.doi,abTest:preconfig.ab_test,links:preconfig.links,yaCounter:preconfig.yaCounter,grecaptcha:preconfig.grecaptcha,launcher:preconfig.launcher,uepUrl:preconfig.uepUrl,gtm:preconfig.gtm,ml:preconfig.ml,email:preconfig.email,fromgame:preconfig.fromgame}}},107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(194),s=n(47),r=n(242),c=n(246),l=n(251);n=n(85),n=i.__decorate([o.NgModule({imports:[a.CoreModule,r.SystemRequirementsModule,c.TrailerModule],declarations:[l.ScrollHelperComponent],providers:[s.CoreRouterModule.forRoot(n.STATES)]})],(function(){}));t.SharedModule=n},108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=n(8),a.prototype.setUser=function(e){this.user=e,this.emitter.emit(e),this.config.isLogged=!0,this.config.email=e.email},a.prototype.getCurrentUser=function(){return this.user},a.prototype.logout=function(){return this.setUser(null),Promise.resolve(null)},i=i.__decorate([o.Injectable(),i.__param(0,o.Inject(n.ConfigToken)),i.__param(1,o.Inject("$http")),i.__metadata("design:paramtypes",[Object,Function])],a);function a(e,t){this.config=e,this.$http=t,this.user=null,this.emitter=new o.EventEmitter(null)}t.UserService=i},109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(366);n=n(2);function a(e,t){this.q=e,this.rootScope=t}o.defaultDomains.push("yandex.ru","mail.ru","list.ru","inbox.ru","bk.ru","rambler.ru","ya.ru","qip.ru"),o.defaultTopLevelDomains.push("ru"),a.prototype.check=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){return t=this.q.defer(),o.run({email:e,suggested:function(e){t.resolve(e)},empty:function(){t.resolve(null)}}),[2,t.promise]}))}))},n=i.__decorate([n.Injectable(),i.__param(0,n.Inject("$q")),i.__param(1,n.Inject("$rootScope")),i.__metadata("design:paramtypes",[Function,Object])],a),t.MailcheckService=n},110:function(e,t,n){},111:function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.SystemRequirementsRoutes||(t.SystemRequirementsRoutes={})).Requirements="systemRequirements",t.STATES=[{name:i.Requirements,url:"/system-requirements",template:"<gj-system-requirements></gj-system-requirements>"}]},112:function(e,t,n){},137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=i.__decorate([o.Component({selector:"gj-spoilers",styles:[n(110)],template:'<div class="gj-spoilers" ng-transclude></div>',legacy:{transclude:!0}})],(function(){}));function s(){this.isExpanded=!1}t.SpoilersComponent=a,s.prototype.toggleExpand=function(){this.isExpanded=!this.isExpanded},i.__decorate([o.Input(),i.__metadata("design:type",String)],s.prototype,"question",void 0),n=i.__decorate([o.Component({selector:"gj-spoiler",styles:[n(110)],template:'<div class="gj-spoilers__item spoiler" ng-class="{\'--expanded\': $ctrl.isExpanded }">\n    <div class="gj-spoiler__header" ng-class="{\'--expanded\': $ctrl.isExpanded }" ng-click="$ctrl.toggleExpand()">\n        <div class="gj-spoiler__text">{{ $ctrl.question }}</div>\n        <div class="gj-spoiler__expand">\n          <div class="gj-spoiler__expander"ng-class="{\'--expanded\': $ctrl.isExpanded }">«</div>\n        </div>\n    </div>\n    <div class="gj-spoiler__answer" ng-class="{\'--expanded\': $ctrl.isExpanded }">\n        <div ng-transclude=""></div>\n    </div>\n  </div>',legacy:{transclude:!0}})],s),t.SpoilerComponent=n},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(280),n(289),n(292),n(294),n(296),n(298),n(302),n(304),n(311),n(312),n(318),n(320),n(322),n(323),n(325),n(326),n(328),n(329),n(330),n(4)},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65),n(130),n(131),n(18),n(132),n(2),n(357)},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(130),s=n(131),r=n(365),c=n(18),l=n(48),d=n(108),p=n(55),u=n(38),_=n(109),g=n(195),m=n(196),v=n(197),h=n(199),f=n(202),y=n(137),E=n(204),C=n(207),b=n(209),O=n(211),S=n(213),k=n(216),R=n(217),j=n(218),T=n(219),I=n(220),w=n(221),A=n(223),$=n(224),N=n(227),P=n(84),L=n(58),D=n(229),M=n(230),U=n(231),x=n(233),B=n(235),F=n(237),K=n(239);n=n(83);function W(e){e.resourceUrlWhitelist(["self",new RegExp("^(http[s]?)://(w{3}.)?youtube.com/.+$"),new RegExp("^(http[s]?)://(img.)?youtube.com/.+$")])}W.$inject=["$sceDelegateProvider"],L=i.__decorate([o.NgModule({imports:[a,s,r,c.default],declarations:[g.EmptyComponent,m.GaijinMenuComponent,f.SpinnerComponent,v.ModalComponent,N.AnimatedComponent,y.SpoilersComponent,y.SpoilerComponent,O.ScrollHelperComponent,F.FullsizeImageComponent,S.CookiePromptComponent,K.CookieControlComponent,k.RedirectComponent,U.LazyLoadComponent,R.ImageOnLoadDirective,j.SwiperDirective,T.AnchorLinkDirective,I.ActiveLinkDirective,w.AppearDirective,A.StickyDirective,$.DownloadLinkDirective,B.TimeoutLinkDirective,D.TrackClickDirective,M.TrackHoverDirective,E.LanguagePickerComponent,h.CaptchaComponent,b.BackgroundVideoComponent,C.ToastsComponent,C.ToastComponent,x.YoutubeComponent],providers:[d.UserService,p.RedirectService,l.ToastController,u.TrackingService,n.CookiesService,_.MailcheckService,P.DetectService,L.DownloadService,W]})],(function(){})),t.CoreModule=L},195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);n=n(2),n=i.__decorate([n.Component({selector:"gj-empty"})],(function(){}));t.EmptyComponent=n},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(8);n=n(2),a.prototype.ngOnInit=function(){var e,t={src:"https://login.gaijin.net/gsea/gsea.js",defer:"true","container-id":"gaijin-menu"},n=document.createElement("script");for(e in t)n.setAttribute(e,t[e]);var i=this.i18nSptLanguages.split(",")||["ru","en"];window.GCM_init={langList:i,lang:this.config.lang,mobileBreakpoint:640,maxContentWidth:"100%"},document.getElementsByTagName("head")[0].appendChild(n)},i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"linksSso",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"i18nSptLanguages",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"i18nCrtLanguage",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"prtOriginUrl",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"prtName",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"prtLangUrl",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"prtLangAdditionalUrl",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"prtRegUrl",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"prtLogoutUrl",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoReturn",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoCrc",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoKey",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoRefresh",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoNick",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoId",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoSid",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"ssoDataChange",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"additionalLinks",void 0),i.__decorate([n.Input(),i.__metadata("design:type",String)],a.prototype,"autologin",void 0),i=i.__decorate([n.Component({selector:"gj-menu",styles:[],template:'<div id="gaijin-menu">\n    <div style="width:100%;background:#232323;z-index:9999;height:42px;box-shadow: 0 1px rgba(255,255,255,0.08);"></div>\n  </div>'}),i.__param(0,n.Inject(o.ConfigToken)),i.__metadata("design:paramtypes",[Object])],a);function a(e){this.config=e}t.GaijinMenuComponent=i},197:function(e,t,n){"use strict";function i(){var e=document.querySelector(".gj-modal"),t=null;e.addEventListener("touchstart",(function(e){1===e.targetTouches.length&&(t=e.targetTouches[0].clientY)}),{passive:!0}),e.addEventListener("touchmove",(function(n){1===n.targetTouches.length&&function(n){var i=n.targetTouches[0].clientY-t;0===e.scrollTop&&0<i&&n.preventDefault(),e.scrollHeight-e.scrollTop<=e.clientHeight&&i<0&&n.preventDefault()}(n)}),{passive:!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(2),s=n(2);r.prototype.ngOnInit=function(){var e=this;this.timeout((function(){e.isVisible=!0}),50),i(),document.documentElement.style.overflow="hidden",this.isEscEnabled&&document.addEventListener("keydown",(function(t){var n=!1;(n="key"in t?"Escape"===t.key||"Esc"===t.key:n)&&e.closeModal()}),{once:!0})},r.prototype.ngOnDestroy=function(){document.documentElement.style.overflow="auto"},r.prototype.closeModal=function(){var e=this;this.isVisible=!1,this.timeout((function(){e.close.emit(null)}),300)},r.prototype.grayClick=function(){this.isGray&&this.closeModal()},r.prototype.contentClicked=function(e){e.stopImmediatePropagation()},o.__decorate([a.Input("closable"),o.__metadata("design:type",Boolean)],r.prototype,"isClosable",void 0),o.__decorate([a.Input("esc"),o.__metadata("design:type",Boolean)],r.prototype,"isEscEnabled",void 0),o.__decorate([a.Input("gray"),o.__metadata("design:type",Boolean)],r.prototype,"isGray",void 0),o.__decorate([a.Input("mini"),o.__metadata("design:type",Boolean)],r.prototype,"mini",void 0),o.__decorate([a.Input("huge"),o.__metadata("design:type",Boolean)],r.prototype,"huge",void 0),o.__decorate([a.Input("large"),o.__metadata("design:type",Boolean)],r.prototype,"large",void 0),o.__decorate([a.Output(),o.__metadata("design:type",Object)],r.prototype,"close",void 0),o=o.__decorate([a.Component({selector:"gj-modal",styles:[n(198)],legacy:{transclude:!0},template:'<div class="gj-modal" ng-click="$ctrl.grayClick()"\n    ng-class="{ \'appear\': $ctrl.isVisible, \'--huge\': $ctrl.huge, \'--large\': $ctrl.large }">\n    <div ng-if="$ctrl.isClosable" ng-click="$ctrl.closeModal()" class="gj-modal__close">✖</div>\n    <div class="gj-modal__content" ng-class="{ \'--mini\': $ctrl.mini, \'--huge\': $ctrl.huge, \'--large\': $ctrl.large }"\n      ng-click="$ctrl.contentClicked($event)" ng-transclude></div>\n  </div>'}),o.__param(0,a.Inject("$timeout")),o.__metadata("design:paramtypes",[Function])],r);function r(e){this.timeout=e,this.mini=!1,this.huge=!1,this.large=!1,this.close=new s.EventEmitter,this.scrollMemory=null,this.isVisible=!1}t.ModalComponent=o},198:function(e,t,n){},199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(200),s=n(8);r.prototype.ngOnInit=function(){window.captchaComponent=this},r.prototype.reload=function(){this.seed=Math.random()},i.__decorate([o.Input("path"),i.__metadata("design:type",Object)],r.prototype,"path",void 0),i=i.__decorate([o.Component({selector:"gj-captcha",styles:[n(201)],template:'\n    <span class="gj-captcha">\n      <img class="gj-captcha__image"\n        ng-click="$ctrl.reload()" width="115" height="40" id="captcha" name="captcha"\n        ng-src="/{{$ctrl.config.lang}}/{{$ctrl.path}}/?{{$ctrl.seed}}" alt="'+a.i18n.INPUT_CAPTCHA_ALT+'">\n      <a class="gj-captcha__reload" ng-click="$ctrl.reload()"></a>\n    </span>'}),i.__param(0,o.Inject("$rootScope")),i.__param(1,o.Inject(s.ConfigToken)),i.__metadata("design:paramtypes",[Object,Object])],r);function r(e,t){var n=this;this.config=t,this.path="captcha",this.i18n=a.i18n,null==this.seed&&(this.seed=Math.random()),e.$on("registrationFailed",(function(){n.reload()}))}t.CaptchaComponent=i},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={INPUT_CAPTCHA_ALT:"Verification code with letters and numbers"}},201:function(e,t,n){},202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=i.__decorate([o.Component({selector:"gj-spinner",styles:[n(203)],template:'<div class="gj-spinner">\n    <div class="bounce1"></div>\n    <div class="bounce2"></div>\n    <div class="bounce3"></div>\n  </div>'})],(function(){}));t.SpinnerComponent=n},203:function(e,t,n){},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(8),s=n(205),r=[{lang:s.Languages.En,short:"EN",label:"english"},{lang:s.Languages.Ru,short:"RU",label:"русский"},{lang:s.Languages.De,short:"DE",label:"deutsch"},{lang:s.Languages.Fr,short:"FR",label:"français"},{lang:s.Languages.Es,short:"ES",label:"español"},{lang:s.Languages.Pl,short:"PL",label:"polski"},{lang:s.Languages.Zh,short:"ZH",label:"中文"},{lang:s.Languages.Jp,short:"JP",label:"日本の"},{lang:s.Languages.Ko,short:"KO",label:"한국어"}];c.prototype.toggle=function(){var e=this;this.isActive=!this.isActive,this.isActive&&this.$timeout((function(){document.body.addEventListener("click",(function(){e.$rootScope.$apply((function(){return e.isActive=!1}))}),{once:!0})}))},c.prototype.fullPath=function(e){return this.config.ref?"/"+e+"/"+this.path+"?r="+this.config.ref:"/"+e+"/"+this.path},i.__decorate([o.Input("langs"),i.__metadata("design:type",Array)],c.prototype,"langs",void 0),i.__decorate([o.Input("path"),i.__metadata("design:type",String)],c.prototype,"path",void 0),i=i.__decorate([o.Component({selector:"gj-language-picker",styles:[n(206)],template:'\n    <div class="gj-language-picker" ng-click="$ctrl.toggle()">\n      <div class="gj-language-picker__item m--current">\n        <div class="gj-language-picker__flag m--{{ $ctrl.current.lang }}"></div>\n        <div class="gj-language-picker__lang">{{ $ctrl.current.short }}</div>\n        <div class="gj-language-picker__down"></div>\n      </div>\n      <div class="gj-language-picker__items">\n        <a ng-repeat="item in $ctrl.items"\n          ng-class="{ \'m--selected\': item === $ctrl.current, \'m--active\': $ctrl.isActive }"\n          class="gj-language-picker__item" href="{{ $ctrl.fullPath(item.lang) }}">\n          <div class="gj-language-picker__flag m--{{ item.lang }}"></div>\n          <div class="gj-language-picker__lang">{{ item.short }} — {{ item.label }}</div>\n        </a>\n      </div>\n    </div>\n  '}),i.__param(0,o.Inject(a.ConfigToken)),i.__param(1,o.Inject("$timeout")),i.__param(2,o.Inject("$rootScope")),i.__metadata("design:paramtypes",[Object,Function,Object])],c);function c(e,t,n){var i=this;this.config=e,this.$timeout=t,this.$rootScope=n,this.isActive=!1,this.current=r.find((function(t){return t.lang===e.lang})),this.items=r.filter((function(e){return i.langs.includes(e.lang)}))}t.LanguagePickerComponent=i},205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.Languages||(t.Languages={})).En="en",t.De="de",t.Ru="ru",t.Fr="fr",t.Es="es",t.Pt="pt",t.Tr="tr",t.Nl="nl",t.Pl="pl",t.Cz="cz",t.Jp="jp",t.Ko="ko",t.Zh="zh"},206:function(e,t,n){},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(48);s.prototype.calculateTopTranslate=function(){return{transform:"translate(-50%, "+-60*(0<this.topToasts.length?Math.min.apply(null,this.topToasts.map((function(e){return e.options.idx}))):0)+"px)"}},s.prototype.calculateBottomTranslate=function(){return{transform:"translate(-50%, "+-60*(0<this.bottomToasts.length?Math.min.apply(null,this.bottomToasts.map((function(e){return e.options.idx}))):0)+"px)"}},n=i.__decorate([o.Component({selector:"gj-toasts",styles:[n(208)],template:'\n  <div class="gj-toasts --top" ng-style="$ctrl.topTransform">\n    <gj-toast class="gj-toasts__item" ng-repeat="toast in $ctrl.topToasts" [toast]="toast"></gj-toast>\n  </div>\n  <div class="gj-toasts --bottom" ng-style="$ctrl.bottomTransform">\n    <gj-toast class="gj-toasts__item" ng-repeat="toast in $ctrl.bottomToasts" [toast]="toast"></gj-toast>\n  </div>'}),i.__param(1,o.Inject("$scope")),i.__metadata("design:paramtypes",[a.ToastController,Object])],s);function s(e,t){var n=this;this.toastsCtrl=e,this.topTransform={},this.bottomTransform={},this.toasts=e.getToasts(),t.$watchCollection("$ctrl.toasts",(function(){n.topToasts=n.toasts.filter((function(e){return"top"===e.options.position})),n.bottomToasts=n.toasts.filter((function(e){return"bottom"===e.options.position})),n.topTransform=n.calculateTopTranslate(),n.bottomTransform=n.calculateTopTranslate()}))}function r(e){this.timeout=e,this.appear=!1,this.timer=null}t.ToastsComponent=n,r.prototype.ngOnInit=function(){var e=this;this.timeout((function(){e.appear=!0})),this.toast.options.duration&&(this.timer=this.timeout((function(){e.appear=!1,e.timeout((function(){e.toast.close("timer")}),300)}),this.toast.options.duration))},r.prototype.close=function(){this.timer&&this.timeout.cancel(this.timer),this.toast.close("click")},i.__decorate([o.Input(),i.__metadata("design:type",a.Toast)],r.prototype,"toast",void 0),i=i.__decorate([o.Component({selector:"gj-toast",template:'<div class="gj-toast" ng-class="[{\n    \'--appear\': $ctrl.appear,\n    \'--bottom\': $ctrl.toast.options.position === \'bottom\'\n  }, $ctrl.toast.options.cssClass]"\n    ng-style="{ [$ctrl.toast.options.position]: ($ctrl.toast.options.idx * 60) + \'px\' }">\n    <div class="gj-toast__message">{{ $ctrl.toast.options.message }}</div>\n    <a class="gj-toast__close" ng-click="$ctrl.close()">✖</a>\n  </div>'}),i.__param(0,o.Inject("$timeout")),i.__metadata("design:paramtypes",[Function])],r),t.ToastComponent=i},208:function(e,t,n){},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);a.prototype.ngOnInit=function(){var e=this,t=this.$element.find("video")[0];this.loop=!1!==this.loop;for(var n=0,i=this.videos;n<i.length;n++){var o=i[n];o.src=this.$sce.trustAsResourceUrl(o.src)}this.poster&&(this.poster=this.$sce.trustAsResourceUrl(this.poster));var a=!1,s=!1;this.$element.find("video").on("loadeddata",(function(){e.$rootScope.$apply((function(){a=!0,0!==e.delay&&!s||(e.isLoading=!1)}))})),0!==this.delay&&this.$timeout((function(){s=!0,t.play(),a&&(e.isLoading=!1)}),this.delay),this.$element.find("video").on("ended",(function(){e.playedTimes++,e.loop&&(!e.repeat||e.playedTimes<e.repeat)&&t.play(),e.loop&&e.playedTimes!==e.repeat||e.$rootScope.$apply((function(){e.isLoading=!0}))}))},i.__decorate([o.Input("videos"),i.__metadata("design:type",Array)],a.prototype,"videos",void 0),i.__decorate([o.Input("poster"),i.__metadata("design:type",String)],a.prototype,"poster",void 0),i.__decorate([o.Input("wide"),i.__metadata("design:type",Boolean)],a.prototype,"wide",void 0),i.__decorate([o.Input("loop"),i.__metadata("design:type",Boolean)],a.prototype,"loop",void 0),i.__decorate([o.Input("repeat"),i.__metadata("design:type",Number)],a.prototype,"repeat",void 0),i.__decorate([o.Input("delay"),i.__metadata("design:type",Number)],a.prototype,"delay",void 0),i=i.__decorate([o.Component({selector:"gj-background-video",styles:[n(210)],template:'\n  <div class="gj-background-video" ng-class="{\'--wide\': $ctrl.wide }">\n    <video\n      ng-show="!$ctrl.isMobileSafari"\n      class="gj-background-video__video"\n      ng-attr-autoplay="{{ $ctrl.delay == 0 || undefined }}"\n      ng-attr-poster="{{ $ctrl.poster || undefinied }}"\n      muted\n      playsinline\n      ng-class="{\'--loading\': $ctrl.isLoading }">\n        <source ng-repeat="video in $ctrl.videos" ng-src="{{ video.src }}" type="{{ video.type }}">\n    </video>\n  </div>\n  '}),i.__param(0,o.Inject("$element")),i.__param(1,o.Inject("$rootScope")),i.__param(2,o.Inject("$timeout")),i.__param(3,o.Inject("$sce")),i.__metadata("design:paramtypes",[Object,Object,Function,Object])],a);function a(e,t,n,i){this.$element=e,this.$rootScope=t,this.$timeout=n,this.$sce=i,this.videos=[],this.poster=null,this.wide=!1,this.delay=0,this.playedTimes=0,this.isLoading=!0,this.isMobileSafari=!1,((i=window.navigator.userAgent).match(/iPad/i)||i.match(/iPhone/i))&&(this.isMobileSafari=!0)}t.BackgroundVideoComponent=i},210:function(e,t,n){},211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);a.prototype.ngOnInit=function(){var e=this;this.win.addEventListener("scroll",(function(t){var n=window.scrollY;e.currentScroll=n,e.recalculate()}))},a.prototype.recalculate=function(){var e=this,t=this.currentScroll<this.gap;this.isVisible!==t&&this.rootScope.$apply((function(){e.isVisible=t}))},a.prototype.scrollBottom=function(){var e,t=this.win.innerHeight;this.selector&&(e=document.querySelector(this.selector),t=$(e).offset().top),this.win.scrollTo({behavior:"smooth",top:t})},i.__decorate([o.Input("gap"),i.__metadata("design:type",Object)],a.prototype,"gap",void 0),i.__decorate([o.Input("selector"),i.__metadata("design:type",String)],a.prototype,"selector",void 0),i=i.__decorate([o.Component({selector:"gj-scroll-helper",styles:[n(212)],template:'<div class="gj-scroll-helper" ng-click="$ctrl.scrollBottom()" ng-class="{\'--visible\': $ctrl.isVisible}">\n      <div class="gj-scroll-helper__icon"></div>\n    </div>'}),i.__param(0,o.Inject("$window")),i.__param(1,o.Inject("$rootScope")),i.__metadata("design:paramtypes",[Object,Object])],a);function a(e,t){this.win=e,this.rootScope=t,this.currentScroll=0,this.isVisible=!0,this.gap=300,this.selector=null}t.ScrollHelperComponent=i},212:function(e,t,n){},213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(8),s=n(214),r=n(83);c.prototype.agree=function(){localStorage.setItem("ok_c","1"),this.close()},c.prototype.reject=function(){this.cookies.setCookie("gj-cookie-disabled","yes",1e5),localStorage.setItem("ok_c","1"),localStorage.setItem("dnt","1"),this.close(),window.location.reload()},c.prototype.close=function(){this.isHidden=!0},i.__decorate([o.Input(),i.__metadata("design:type",String)],c.prototype,"link",void 0),r=i.__decorate([o.Component({selector:"gj-cookie-prompt",styles:[n(215)],template:'<div class="gj-cookie-prompt" ng-if="!$ctrl.isHidden">\n    <div class="gj-cookie-prompt__content">\n      <div class="gj-cookie-prompt__text">'+s.i18n.COOKIE_TEXT+'</div>\n      <div class="gj-cookie-prompt__button" ng-click="$ctrl.agree()">'+s.i18n.COOKIE_AGREE+'</div>\n      <div class="gj-cookie-prompt__button" ng-click="$ctrl.reject()">'+s.i18n.COOKIE_REJECT+"</div>\n    </div>\n  </div>"}),i.__param(0,o.Inject(a.ConfigToken)),i.__metadata("design:paramtypes",[Object,r.CookiesService])],c);function c(e,t){this.config=e,this.cookies=t,this.isHidden="1"===localStorage.getItem("ok_c")}t.CookiePromptComponent=r},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={COOKIE_TEXT:'This site uses cookies to analyse traffic and for anonymous statistics. Learn more about our <a href="https://legal.gaijin.net/cookie">cookie policy</a>',COOKIE_AGREE:"Accept",COOKIE_REJECT:"Reject"}},215:function(e,t,n){},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);n=n(2),o.prototype.ngOnInit=function(){document.location.href=this.to},i.__decorate([n.Input(),i.__metadata("design:type",String)],o.prototype,"to",void 0),n=i.__decorate([n.Component({selector:"gj-redirect",legacy:{transclude:!0}})],o);function o(){}t.RedirectComponent=n},217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);n=n(2),o.prototype.ngAfterViewInit=function(){var e=this,t=this.parseService(this.attrs.gjImageOnLoad);this.element.bind("load",(function(n){e.scope.$apply((function(){t(e.scope,{$event:n})}))}))},i=i.__decorate([n.Directive({selector:"[gjImageOnLoad]"}),i.__param(0,n.Inject("$element")),i.__param(1,n.Inject("$attrs")),i.__param(2,n.Inject("$scope")),i.__param(3,n.Inject("$parse")),i.__metadata("design:paramtypes",[Object,Object,Object,Function])],o);function o(e,t,n,i){this.element=e,this.attrs=t,this.scope=n,this.parseService=i}t.ImageOnLoadDirective=i},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(279);function s(){}a.Swiper.use([a.Navigation,a.Pagination,a.Autoplay,a.EffectCreative]),s.prototype.ngAfterViewInit=function(){var e=document.getElementById(this.swiperId),t=e.querySelector(".swiper-pagination"),n={slidesPerView:"auto",spaceBetween:0};n.navigation||e.querySelector(".swiper-button-prev")&&(n.navigation={prevEl:e.querySelector(".swiper-button-prev"),nextEl:e.querySelector(".swiper-button-next")}),t&&(n.pagination={el:t,clickable:!0}),this.options&&(n=i.__assign(i.__assign({},n),this.options)),new a.Swiper(e,n)},i.__decorate([o.Input("gjSwiper"),i.__metadata("design:type",String)],s.prototype,"swiperId",void 0),i.__decorate([o.Input("spaceBetween"),i.__metadata("design:type",String)],s.prototype,"spaceBetween",void 0),i.__decorate([o.Input("options"),i.__metadata("design:type",Object)],s.prototype,"options",void 0),o=i.__decorate([o.Directive({selector:"[gjSwiper]"}),i.__metadata("design:paramtypes",[])],s),t.SwiperDirective=o},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);n=n(2),o.prototype.ngAfterViewInit=function(){var e=this;this.element.bind("click",(function(t){var n=document.querySelector(e.selector);n&&($("html, body").stop().animate({scrollTop:$(n).offset().top},300),t.preventDefault())}))},i.__decorate([n.Input("gjAnchorLink"),i.__metadata("design:type",String)],o.prototype,"selector",void 0),i=i.__decorate([n.Directive({selector:"[gjAnchorLink]"}),i.__param(0,n.Inject("$element")),i.__param(1,n.Inject("$attrs")),i.__param(2,n.Inject("$scope")),i.__param(3,n.Inject("$parse")),i.__metadata("design:paramtypes",[Object,Object,Object,Function])],o);function o(e,t,n,i){this.element=e,this.attrs=t,this.scope=n,this.parseService=i}t.AnchorLinkDirective=i},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={GAIJIN_NET:"Gaijin.Net",ACCOUNT:"Account",REGISTRATION:"Registration",SIGN_UP:"Sign up",LOG_IN:"Log in",RECOVER_PASSWORD:"Restore password",LOADING:"Loading...",SIGN_IN_TITLE:"Already got a Gaijin.Net account?",ALREADY_HAVE:"Looks like you already have a Gaijin.Net account.",LOGIN_TO_PLAY:"Log in now to play!",LOGIN_TO_PLAY_ENLISTED:"Log in to start playing PROJECT_NAME",PLACEHOLDER_EMAIL:"Email",PLACEHOLDER_NICKNAME:"Nickname",PLACEHOLDER_PASSWORD:"Password",PLACEHOLDER_REPEAT:"Repeat Password",PLACEHOLDER_CAPTCHA:"Code",ERROR_FORM_VALIDATION:"Please, fill all the required fields.",ERROR_FORM_UNEXPECTED:"Unexpected server error, please try again later",ERROR_NICKNAME_REQUIRED:"Enter your nickname please.",ERROR_NICKNAME_FIRSTDIGIT:"Nickname cannot begin with a digit.",ERROR_NICKNAME_FORMAT:"Nickname should consist of Latin letters and digits only.",ERROR_NICKNAME_FORBIDDEN:"This nickname is forbidden.",ERROR_NICKNAME_LENGTH:"Nickname should be 4 to 16 characters long.",ERROR_NICKNAME_BUSY:"This nickname is already taken.",ERROR_NICKNAME_WRONG:"This nickname is forbidden, please enter another one.",WARNING_NICKNAME:"The nickname you have selected may lead to an account ban, we advise you select another.",ERROR_EMAIL_REQUIRED:"Enter your email address please.",ERROR_EMAIL_WRONG:"Incorrectly entered email address, please try again.",ERROR_EMAIL_BUSY:"Аccount with this email address is already registered.",ERROR_EMAIL_NOTCONFIRMED:"It seems that you didn't confirm your email.",WARNING_EMAIL_MEANT:"Did you mean:",EMAIL_BUSY_TEXT:"If you have forgotten your account password, you can recover it following the link below.",EMAIL_BUSY_LOGIN:"Login with a password",EMAIL_BUSY_RECOVER:"Recover your password",ERROR_EMAIL_NOTFOUND:"Account with entered e-mail not found.",EMAIL_NOTFOUND_TEXT:"Click the button below to create new Gaijin account",EMAIL_NOTFOUND_CREATEACCOUNT:"Register account",ERROR_PASSWORD_REQUIRED:"Enter a password please.",ERROR_PASSWORD_LENGTH:"Password should be 6 to 64 characters long.",ERROR_PASSWORD_MISMATCH:"Passwords do not match, please retype.",ERROR_CAPTCHA_REQUIRED:"Enter the code please.",ERROR_CAPTCHA_LENGTH:"Captcha code should be 6 characters length.",ERROR_CAPTCHA_WRONG:"Wrong code entered, please retype.",ERROR_CAPTCHA_FORMAT:"Captcha should consist of Latin letters and digits only.",LABEL_EULA:'\n    I accept the\n      <a class="gj-reg-link" target="_blank"\n        href="https://legal.gaijin.net/eula">License Agreement</a>,\n      <a class="gj-reg-link" target="_blank"\n        href="https://legal.gaijin.net/termsofservice">Terms of Service</a> and\n      <a class="gj-reg-link" target="_blank"\n        href="https://legal.gaijin.net/privacypolicy">Privacy Policy</a>',TEXT_EULA:"\n    I hereby confirm that I am at least 13 years old or older if other age of consent is required by the law.\n    Please note that the age of consent in the EU varies from 13 to 16 years depending on the country.\n    Please ask your parental responsibility holder to give us the consent on your behalf by ticking these boxes\n    if you are less than 13 years old or hesitate whether you are of the age of consent in accordance with\n    the laws of your country.",LABEL_ACCEPT_EMAILS:"I agree to receive informational emails from Gaijin",BUTTON_CONTINUE:"Continue",BUTTON_PLAY_NOW:"Play now",BUTTON_STEAM:"Play on Steam",BUTTON_XBOX:"Play on XBOX series X|S",BUTTON_PS4:"Play on PS4",BUTTON_PS5:"Play on PS5",PLATFORM_ACCOUNTS_TEXT:"Use your account to play on the following platforms:",PLATFORM_ACCOUNTS_REQUIREMENTS:"System requirements",SUCCESS_HEADER:"Welcome to PROJECT_NAME!",SUCCESS_SUBHEADER:"You have just created your Gaijin.Net account",SUCCESS_TEXT:"You can start playing PROJECT_NAME now, however to unlock all Gaijin.Net account features, please confirm your email address.",SUCCESS_RESEND_TEXT:"Did not get the confirmation email? Please check your SPAM or JUNK folders, or",SUCCESS_RESEND_LINK:"resend",SUCCESS_CONFIRMATION:"Confirmation email sent to:",SUCCESS_CONFIRMED:"You can start playing PROJECT_NAME.",SUCCESS_SEE_YOU:"See you in battle!",SUCCESS_SENT:"Confirmation email was sent.",SUCCESS_ALL_SET:"You are all set to start playing! Use this account to log in to the game",SUCCESS_RETURN_TO_GAME:"Return to the game",SUCCESS_MANAGE_SUBSCRIPTIONS:"You can set up or opt out of receiving informational messages here.",DOWNLOAD_DID_NOT_START:"Download did not start automatically?",DOWNLOAD_NO_CLIENT:"No game client yet?",DOWNLOAD_DOWNLOAD:"Download now",DOWNLOAD_TIMEOUT:"will be available in 1 seconds…",DOWNLOAD_REQUIREMENTS:'Windows PC launcher ≈ 8 MB<br><a class="gj-reg-link" href="#!/system-requirements">System requirements</a>',CONFIRMED_HEADER:"Thank you!",CONFIRMED_SUBHEADER:"Your email address has been confirmed",CONFIRMED_TEXT:'You can now use all Gaijin.Net account features.\n    <div style="margin-top: 10px">See you in battle!</div>',CONFIRMED_TOKEN_ERROR:"Account confirmation failed.",CONFIRMED_TOKEN_ERROR_TEXT:"Recovery link is expired or your account is already confirmed.",CONFIRMED_LOADING:"Loading...",CONFIRMED_LOADING_TEXT:"Please wait.",DETECT_HEADER:"Are you running <strong>{{ $ctrl.osName }}</strong>?",DETECT_TEXT:"PROJECT_NAME is currently available for Windows PC, Play Station 5 and Xbox Series X|S only.",DETECT_LINK:"Link to download the game for Windows:",DETECT_COPY:"Copy to clipboard",DETECT_COPIED:"Copied",DETECT_COPY_ERROR:"Copy error :(",DETECT_COPY_MANUAL:"An error occurred while copying the link, please copy it manually",DETECT_CONSOLE:"Play on consoles:",DETECT_BUTTON:"Continue anyway",CBT_TITLE:"Participate in closed beta testing",CBT_TEXT:"To become a member of the CBT, please log into your Gaijin.Net account or create a new one",CBT_TEXT_SHOP:"At this stage, access to the CBT is open to buyers of one of the early access sets",CBT_CREATE_NEW:"Create new",CBT_LOGIN:"Login",CBT_DOWNLOAD:"Download",CBT_PICK:"Choose set",PACKS_DOWNLOAD_LINK:"Download link has been sent to:",PACKS_LAST_STEP:"Final step",PACKS_ACCESS:"To get instant access<br>please purchase one of the Founder Packs",PACKS_STAR1:"Founder Packs include exclusive content which is only available for a limited time.",PACKS_STAR2:"All content included in Founder Packs will remain on your account permanently.",PACKS_STAR3:"Premium units receive + 100% experience gain in battles.",PACKS_BUY:"Purchase",PACKS_SQUAD:"Premium squad",PACKS_SQUAD1:"449th Infantry Regiment in the 144th Infantry Division of the Red Army. The squad consists of 4 soldiers of the «Assaulter» class.",PACKS_SQUAD2:"75th Infantry Regiment in the 5th Infantry Division for the Wehrmacht forces. The squad consists of 4 soldiers of the «Assaulter» class.",PACKS_SQUAD3:"330th Infantry Regiment in the 83th Infantry Division of the US Army. The squad consists of 4 soldiers of the «Assaulter» class.",PACKS_WEAPON:"Unique weaponry",PACKS_WEAPON1:"PPK-41 submachine gun (available for this squad only).",PACKS_WEAPON2:"MP 41 submachine gun (available for this squad only).",PACKS_WEAPON3:"M2 Hyde submachine gun (available for this squad only).",PACK1_TITLE:"Founder's Pack",PACK1_TITLE_ALT:"Soviet Pack",PACK1_COUNRTY:"USSR",PACK2_TITLE:"Founder's Pack",PACK2_TITLE_ALT:"German Pack",PACK2_COUNRTY:"Germany",PACK3_TITLE:"Founder's Pack",PACK3_TITLE_ALT:"USA Pack",PACK3_COUNRTY:"USA",BONUS_TITLE:"+ Extra bonus",BONUS1_NAME:"Silver orders",BONUS1_DESC:"2x Silver Orders for Troops and 4x Silver Orders for Weapons",BONUS2_NAME:"+3 Days of Premium Account",DOWNLOADING_TITLE:"We await you on the Battlefields of Enlisted!",DOWNLOADING_LOADING:"Enlisted is downloading",DOWNLOADING_SETUP:"Install the game",DOWNLOADING_NOT_START_RAW:'If the download does not start automatically, then <a href="{{ $ctrl.config.links.download }}/manual" rel="nofollow" gj-download-link>download the game</a> yourself',DOWNLOADING_FIND:"To find the downloaded file, press CTRL+J in your browser"}},220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);n=n(2),o.prototype.ngAfterViewInit=function(){this.href.split(",").some((function(e){return e.trim()===window.location.pathname}))&&this.element.addClass("m--active")},i.__decorate([n.Input("gjActiveLink"),i.__metadata("design:type",String)],o.prototype,"href",void 0),i=i.__decorate([n.Directive({selector:"[gjActiveLink]"}),i.__param(0,n.Inject("$element")),i.__metadata("design:paramtypes",[Object])],o);function o(e){this.element=e}t.ActiveLinkDirective=i},221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);function a(e,t,n,i,o){this.element=e,this.attrs=t,this.scope=n,this.parseService=i,this.timeout=o}n(222),a.prototype.ngAfterViewInit=function(){this.element.addClass("--visible")},i=i.__decorate([o.Directive({selector:"[gjAppear]"}),i.__param(0,o.Inject("$element")),i.__param(1,o.Inject("$attrs")),i.__param(2,o.Inject("$scope")),i.__param(3,o.Inject("$parse")),i.__param(4,o.Inject("$timeout")),i.__metadata("design:paramtypes",[Object,Object,Object,Function,Function])],a),t.AppearDirective=i},222:function(e,t,n){},223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);n=n(2),o.prototype.ngAfterViewInit=function(){var e=this;window.addEventListener("resize",(function(){e.isSticky||(e.recalculateOffset(),e.check())}),{passive:!0}),document.addEventListener("scroll",(function(){return e.check()}),{passive:!0}),this.recalculateOffset(),this.check()},o.prototype.recalculateOffset=function(){this.offset=this.element.get(0).offsetTop-5},o.prototype.check=function(){window.scrollY>this.offset&&!this.isSticky?(this.element.addClass("m--sticky"),this.isSticky=!0):window.scrollY<=this.offset&&this.isSticky&&(this.element.removeClass("m--sticky"),this.isSticky=!1)},i=i.__decorate([n.Directive({selector:"[gjSticky]"}),i.__param(0,n.Inject("$element")),i.__metadata("design:paramtypes",[Object])],o);function o(e){this.element=e,this.isSticky=!1}t.StickyDirective=i},224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(1),s=n(368),r=n(225),c=n(58),l=n(31);function d(e,t,n,i){this.$timeout=e,this.$element=t,this.stateService=n,this.download=i,this.tooltip=null,this.browser=s.detect(),this.sub=null,this.isIndicating=!1,this.isDisabled=!1,this.isMobile=!1,i=l.detectOS(),this.isMobile=i===l.OS.Android||i===l.OS.iOS,this.tooltip=document.createElement("div"),this.tooltip.classList.add("gj-download-tooltip"),this.browser&&("edge"===this.browser.name||"ie"===this.browser.name?this.tooltip.innerText=r.i18n.TOOLTIP_EDGE:this.tooltip.innerText=r.i18n.TOOLTIP,this.tooltip.classList.add("--browser-"+this.browser.name))}n(226),d.prototype.showIndicator=function(e){var t,n=this;this.isDisabled||(t=this.isIndicating,this.isIndicating=!0,this.isDisabled=!0,e.attr("disabled","true"),e.addClass("--loading"),this.$timeout(3e3).then((function(){n.isDisabled=!1,e.removeAttr("disabled"),e.removeClass("--loading")})),t||(this.$timeout(200).then((function(){document.body.appendChild(n.tooltip),n.$timeout(100).then((function(){n.tooltip.classList.add("--active")}))})),this.$timeout(7e3).then((function(){n.tooltip.classList.remove("--active"),n.$timeout(200).then((function(){n.isIndicating=!1,document.body.removeChild(n.tooltip)}))}))))},d.prototype.ngAfterViewInit=function(){var e=this;this.sub=this.download.subscribe((function(){e.showIndicator(e.$element)}));var t=this.$element.attr("href");this.$element.bind("click",(function(n){e.download.start(t,!1)}))},d.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},c=i.__decorate([o.Directive({selector:"[gjDownloadLink]"}),i.__param(0,o.Inject("$timeout")),i.__param(1,o.Inject("$element")),i.__param(2,o.Inject("$state")),i.__metadata("design:paramtypes",[Function,Object,a.StateService,c.DownloadService])],d),t.DownloadLinkDirective=c},225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={TOOLTIP:"Download starts",TOOLTIP_EDGE:'Press "Run"'}},226:function(e,t,n){},227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);a.prototype.ngOnInit=function(){var e=this,t=this.element[0].querySelector(".gj-animated__inner");this.rootScope.$watch((function(){return t.clientHeight}),(function(){e.timeout(0).then((function(){e.fixedHeight=t.clientHeight}))}))},a.prototype.getStyle=function(){return{height:null!==this.fixedHeight?this.fixedHeight+"px":"auto"}},i.__decorate([o.Input("mode"),i.__metadata("design:type",String)],a.prototype,"mode",void 0),i=i.__decorate([o.Component({selector:"gj-animated",styles:[n(228)],template:'<div class="gj-animated" ng-style="$ctrl.getStyle()">\n      <div class="gj-animated__inner" ng-transclude></div>\n    </div>',legacy:{transclude:!0}}),i.__param(0,o.Inject("$timeout")),i.__param(1,o.Inject("$element")),i.__param(2,o.Inject("$rootScope")),i.__metadata("design:paramtypes",[Function,Object,Object])],a);function a(e,t,n){this.timeout=e,this.element=t,this.rootScope=n,this.mode="height",this.fixedHeight=null,this.watchedEl=null}t.AnimatedComponent=i},228:function(e,t,n){},229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=n(38),a.prototype.ngAfterViewInit=function(){var e=this,t=this.attrs.gjTrackClick;this.element.bind("click",(function(n){e.tracking.trackCustomEvent(t,{})}))},i.__decorate([o.Input("gjTrackClick"),i.__metadata("design:type",String)],a.prototype,"selector",void 0),n=i.__decorate([o.Directive({selector:"[gjTrackClick]"}),i.__param(0,o.Inject("$element")),i.__param(1,o.Inject("$attrs")),i.__metadata("design:paramtypes",[Object,Object,n.TrackingService])],a);function a(e,t,n){this.element=e,this.attrs=t,this.tracking=n}t.TrackClickDirective=n},230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=n(38),a.prototype.ngAfterViewInit=function(){var e=this,t=this.attrs.gjTrackHover;this.element.bind("mouseover",(function(n){e.tracking.trackCustomEvent(t,{})}))},i.__decorate([o.Input("gjTrackHover"),i.__metadata("design:type",String)],a.prototype,"selector",void 0),n=i.__decorate([o.Directive({selector:"[gjTrackHover]"}),i.__param(0,o.Inject("$element")),i.__param(1,o.Inject("$attrs")),i.__metadata("design:paramtypes",[Object,Object,n.TrackingService])],a);function a(e,t,n){this.element=e,this.attrs=t,this.tracking=n}t.TrackHoverDirective=n},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);function a(e,t){this.element=e,this.rootScope=t,this.isReady=!1}a.prototype.handler=function(){var e,t=this;0<=(e=(e=this.element.get(0)).getBoundingClientRect()).top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)&&(this.dettach(),this.rootScope.$apply((function(){t.isReady=!0})))},a.prototype.ngOnInit=function(){this.attach()},a.prototype.attach=function(){this.thisHandler=this.handler.bind(this),addEventListener("DOMContentLoaded",this.thisHandler,!1),addEventListener("load",this.thisHandler,!1),addEventListener("scroll",this.thisHandler,!1),addEventListener("resize",this.thisHandler,!1)},a.prototype.dettach=function(){removeEventListener("DOMContentLoaded",this.thisHandler,!1),removeEventListener("load",this.thisHandler,!1),removeEventListener("scroll",this.thisHandler,!1),removeEventListener("resize",this.thisHandler,!1),this.thisHandler=null},i=i.__decorate([o.Component({selector:"gj-lazy-load",styles:[n(232)],template:'<div class="gj-lazy-load">\n    <gj-spinner ng-if="!$ctrl.isReady" class="gj-lazy-load__loading"></gj-spinner>\n    <div ng-if="$ctrl.isReady">\n      <div ng-transclude></div>\n    </div>\n  </div>',legacy:{transclude:!0}}),i.__param(0,o.Inject("$element")),i.__param(1,o.Inject("$rootScope")),i.__metadata("design:paramtypes",[Object,Object])],a),t.LazyLoadComponent=i},232:function(e,t,n){},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);a.prototype.ngOnInit=function(){this.trustedSrc=this.$sce.getTrustedResourceUrl("https://www.youtube.com/embed/"+this.src+"?autoplay=1"),this.autoplay&&this.play()},a.prototype.play=function(){this.isPlaying=!0},i.__decorate([o.Input("src"),i.__metadata("design:type",String)],a.prototype,"src",void 0),i.__decorate([o.Input("autoplay"),i.__metadata("design:type",Boolean)],a.prototype,"autoplay",void 0),i=i.__decorate([o.Component({selector:"gj-youtube",styles:[n(234)],template:'<div class="gj-youtube">\n    <picture>\n      <source ng-srcset="https://img.youtube.com/vi_webp/{{$ctrl.src}}/maxresdefault.webp" type="image/webp">\n      <source ng-srcset="https://img.youtube.com/vi/{{$ctrl.src}}/maxresdefault.jpg" type="image/jpg">\n      <img class="en-webp" ng-src="https://img.youtube.com/vi/{{$ctrl.src}}/maxresdefault.jpg" alt="" />\n    </picture>\n    <iframe\n      ng-if="$ctrl.isPlaying"\n      class="gj-youtube__iframe"\n      width="100%"\n      height="100%"\n      autoplay="{{ $ctrl.autoplay }}"\n      ng-src="{{ $ctrl.trustedSrc }}"\n      frameborder="0"\n      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n      allowfullscreen>\n    </iframe>\n    <div class="gj-youtube__play m--outline m--hoverable" ng-click="$ctrl.play()" ng-if="!$ctrl.isPlaying">Play</div>\n  </div>'}),i.__param(0,o.Inject("$sce")),i.__metadata("design:paramtypes",[Object])],a);function a(e){this.$sce=e,this.src=null,this.trustedSrc=null,this.isPlaying=!1}t.YoutubeComponent=i},234:function(e,t,n){},235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);function a(e,t,n){this.$timeout=e,this.attrs=t,this.$element=n,this.isDisabled=!1}n(236),a.prototype.disableForAWhile=function(){var e,t=this;this.isDisabled||(e=parseInt(this.attrs.gjTimeoutLink,10),this.isDisabled=!0,this.$element.attr("disabled","true"),this.$element.addClass("--loading"),this.$timeout(e).then((function(){t.$element.removeAttr("disabled"),t.$element.removeClass("--loading"),t.isDisabled=!1})))},a.prototype.ngAfterViewInit=function(){var e=this;this.$element.bind("click",(function(t){e.isDisabled&&t.preventDefault(),e.disableForAWhile()}))},i=i.__decorate([o.Directive({selector:"[gjTimeoutLink]"}),i.__param(0,o.Inject("$timeout")),i.__param(1,o.Inject("$attrs")),i.__param(2,o.Inject("$element")),i.__metadata("design:paramtypes",[Function,Object,Object])],a),t.TimeoutLinkDirective=i},236:function(e,t,n){},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);a.prototype.ngOnInit=function(){var e=this;this.sanitizedSrc=this.$sce.trustAsResourceUrl(this.src);var t=this.element.find("img").get(0);this.calculatedHeight=t.clientHeight,t.onload=function(){e.calculatedHeight=t.clientHeight,e.scope.$digest()},window.addEventListener("resize",(function(){e.calculatedHeight=t.clientHeight,e.scope.$digest()}))},a.prototype.getStyle=function(){return{height:this.calculatedHeight}},i.__decorate([o.Input("src"),i.__metadata("design:type",String)],a.prototype,"src",void 0),i=i.__decorate([o.Component({selector:"gj-fullsize-image",styles:[n(238)],template:'<div class="gj-fullsize-image">\n    <img ng-src="{{ $ctrl.sanitizedSrc }}"/>\n  </div>\n  <div class="gj-fullsize-placeholder" ng-style="$ctrl.getStyle()"></div>\n  '}),i.__param(0,o.Inject("$sce")),i.__param(1,o.Inject("$element")),i.__param(2,o.Inject("$scope")),i.__metadata("design:paramtypes",[Object,Object,Object])],a);function a(e,t,n){this.$sce=e,this.element=t,this.scope=n,this.src=null,this.sanitizedSrc=null,this.calculatedHeight=0}t.FullsizeImageComponent=i},238:function(e,t,n){},239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(8),s=n(240),r=n(83);Object.defineProperty(c.prototype,"fulllink",{get:function(){return"https://"+window.location.host+this.link},enumerable:!0,configurable:!0}),c.prototype.enable=function(){this.cookies.removeCookie("gj-cookie-disabled"),window.location.reload()},c.prototype.disable=function(){localStorage.setItem("gj-cookie-policy","yes"),this.cookies.setCookie("gj-cookie-disabled","yes",1e5),window.location.reload()},i.__decorate([o.Input(),i.__metadata("design:type",String)],c.prototype,"link",void 0),r=i.__decorate([o.Component({selector:"gj-cookie-control",styles:[n(241)],template:'<div class="gj-cookie-control">\n    <div ng-if="$ctrl.isEnabled">\n      <p class="gj-cookie-control__text">'+s.i18n.COOKIE_CONTROL_TEXT+'</p>\n      <button ng-click="$ctrl.disable()" class="gj-cookie-control__button">'+s.i18n.COOKIE_CONTROL_DISABLE+'</button>\n    </div>\n    <div ng-if="!$ctrl.isEnabled">\n      <p class="gj-cookie-control__text">'+s.i18n.COOKIE_CONTROL_DISABLED_TEXT+'</p>\n      <button ng-click="$ctrl.enable()" class="gj-cookie-control__button">'+s.i18n.COOKIE_CONTROL_ENABLE+"</button>\n    </div>\n    <p>"+s.i18n.COOKIE_CONTROL_DISCOVER+' <a href="https://legal.gaijin.net/cookie">https://legal.gaijin.net/cookie</a></p>\n  </div>'}),i.__param(0,o.Inject(a.ConfigToken)),i.__metadata("design:paramtypes",[Object,r.CookiesService])],c);function c(e,t){this.config=e,this.cookies=t,this.isEnabled=!0,this.isEnabled="yes"!==this.cookies.getCookie("gj-cookie-disabled")}t.CookieControlComponent=r},240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={COOKIE_CONTROL_TEXT:"You can disable some cookies, with information that can be used for marketing purposes: connection of trackers for analytics systems, and partners data. The tools that are important for the operation of the site and related systems will not be deactivated. You should be aware, however, that disabling certain cookies will affect the quality of your experience with the Gaijin site and its services. If you would like to disable some of these cookies, please click the button.",COOKIE_CONTROL_DISABLED_TEXT:"Some of the cookies used for analytics are disabled. You may turn them back on.",COOKIE_CONTROL_DISABLE:"DISABLE",COOKIE_CONTROL_ENABLE:"ENABLE",COOKIE_CONTROL_DISCOVER:"Discover more about our cookie policy here"}},241:function(e,t,n){},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(47),s=n(111);n=n(243),s=i.__decorate([o.NgModule({declarations:[n.SystemRequirementsComponent],providers:[a.CoreRouterModule.forRoot(s.STATES)]})],(function(){}));t.SystemRequirementsModule=s},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(18),s=n(85),r=n(244),c="gj-system-requirements";l.prototype.close=function(){this.stateService.go(s.SharedRoutes.Empty)},a=i.__decorate([o.Component({selector:c,styles:[n(245)],template:'\n  <gj-modal [closable]="false" [esc]="true" [gray]="true" (close)="$ctrl.close()">\n    <div class="'+c+'">\n      <div class="'+c+'__close" ng-click="$ctrl.close()"></div>\n      <div class="'+c+'__container">\n        <div class="'+c+'__title">'+r.i18n.SYSREQ+'</div>\n        <div class="'+c+'__block">\n          <div class="'+c+'__col">\n            <div class="'+c+'__header">'+r.i18n.MINIMAL+'</div>\n            <div class="'+c+'__list">'+r.i18n.MINIMAL_TEXT+'</div>\n          </div>\n          <div class="'+c+'__col">\n            <div class="'+c+'__header">'+r.i18n.RECOMENDED+'</div>\n            <div class="'+c+'__list">'+r.i18n.RECOMENDED_TEXT+'</div>\n          </div>\n        </div>\n      </div>\n      <div class="'+c+'__also">'+r.i18n.ALSO+"</div>\n    </div>\n  </gj-modal>\n  "}),i.__param(0,o.Inject("$state")),i.__metadata("design:paramtypes",[a.StateService])],l);function l(e){this.stateService=e}t.SystemRequirementsComponent=a},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={SYSREQ:"System requirements",MINIMAL:"Minimal",RECOMENDED:"Recommended",ALSO:'Also available on <a href="https://www.microsoft.com/p/enlisted/9nhkl695m9f2" rel="noopener noreferrer" target="_blank">Xbox Series S, Xbox Series X</a>,\n      <a href="https://www.xbox.com/en-us/games/store/enlisted/9nhkl695m9f2" rel="noopener noreferrer" target="_blank">Xbox One</a>,\n      <a href="https://store.playstation.com/search/enlisted" rel="noopener noreferrer" target="_blank">PlayStation 4, PlayStation 5</a>',MINIMAL_TEXT:"\n    <p><span>OS:</span> Windows 7 / 8 / 10 64bit</p>\n    <p><span>Processor:</span> Intel Core i3 or better</p>\n    <p><span>RAM:</span> 8 GB</p>\n    <p><span>Videocard supported DirectX 11 or higher:</span> Nvidia GeForce 660 or better, AMD Radeon series 78XX or better</p>\n    <p><span>Free disk space:</span> 10GB</p>\n  ",RECOMENDED_TEXT:"\n    <p><span>ОS:</span> Windows 7 / 8 / 10 64bit</p>\n    <p><span>Processor:</span> Intel Core i5 or better</p>\n    <p><span>RAM:</span> 8 GB</p>\n    <p><span>Videocard supported DirectX 11 or higher:</span> Nvidia GeForce 1060 or better, AMD Radeon series RX480 or better</p>\n    <p><span>Free disk space:</span> 32GB</p>\n  "}},245:function(e,t,n){},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(47),s=n(247);n=n(248),s=i.__decorate([o.NgModule({declarations:[n.TrailerComponent],providers:[a.CoreRouterModule.forRoot(s.STATES)]})],(function(){}));t.TrailerModule=s},247:function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.TrailerRoutes||(t.TrailerRoutes={})).VideoTrailer="videoTrailer",t.STATES=[{name:i.VideoTrailer,url:"/video-trailer",template:"<gj-trailer></gj-trailer>"}]},248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(18),s=n(85),r=n(249),c="gj-trailer";l.prototype.close=function(){this.stateService.go(s.SharedRoutes.Empty)},a=i.__decorate([o.Component({selector:c,styles:[n(250)],template:'\n  <gj-modal [closable]="false" [esc]="true" [gray]="true" (close)="$ctrl.close()">\n    <div class="'+c+'">\n      <div class="'+c+'__close" ng-click="$ctrl.close()"></div>\n      <gj-youtube src="'+r.i18n.SRC+'" [autoplay]="true"></gj-youtube>\n    </div>\n  </gj-modal>\n  '}),i.__param(0,o.Inject("$state")),i.__metadata("design:paramtypes",[a.StateService])],l);function l(e){this.stateService=e}t.TrailerComponent=a},249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={SRC:"77ckp1muPOI"}},250:function(e,t,n){},251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);a.prototype.ngOnInit=function(){var e=this;this.win.addEventListener("scroll",(function(t){var n=window.scrollY;e.currentScroll=n,e.recalculate()}))},a.prototype.recalculate=function(){var e=this,t=this.currentScroll<10;this.isVisible!==t&&this.rootScope.$apply((function(){e.isVisible=t}))},a.prototype.scrollBottom=function(){this.win.scrollTo({behavior:"smooth",top:this.win.innerHeight})},i=i.__decorate([o.Component({selector:"en-scroll-helper",styles:[n(252)],template:'<div class="en-scroll-helper" ng-click="$ctrl.scrollBottom()" ng-class="{\'--visible\': $ctrl.isVisible}">\n      <div class="en-scroll-helper__icon"></div>\n    </div>'}),i.__param(0,o.Inject("$window")),i.__param(1,o.Inject("$rootScope")),i.__metadata("design:paramtypes",[Object,Object])],a);function a(e,t){this.win=e,this.rootScope=t,this.currentScroll=0,this.isVisible=!0}t.ScrollHelperComponent=i},252:function(e,t,n){},253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(254),s=n(39),r=n(49),c=n(111);n=n(278);t.registrationConfiguration={successState:s.RegistrationRoutes.RegistrationSuccess,systemRequirementsState:c.SystemRequirementsRoutes.Requirements,continueUrl:"/sign-up",steamLink:!1,xboxLink:!1,ps4Link:!1,links:{eula:n.i18n.EULA_LINK,tos:n.i18n.TOS_LINK,privacyPolicy:n.i18n.PRIVACY_POLICY_LINK}},r=i.__decorate([o.NgModule({imports:[a.RegistrationModule],providers:[{provide:r.RegistrationConfigToken,useValue:t.registrationConfiguration},{provide:r.ProjectNameToken,useValue:"Enlisted"}]})],(function(){})),t.RegistrationModule=r,(t=t.RegistrationRoutes||(t.RegistrationRoutes={})).Register="registrationRegister",t.Success="registrationSuccess"},254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(47),s=n(39),r=n(255),c=n(259),l=n(261),d=n(263),p=n(265),u=n(267),_=n(269),g=n(271),m=n(273),v=n(274),h=n(275),f=n(59),y=n(277);n=n(107),s=i.__decorate([o.NgModule({imports:[h.RecaptchaModule],declarations:[n.SharedModule,r.RegisterComponent,c.RegisterDetectComponent,l.RegisterSuccessComponent,d.RegisterConfirmedComponent,p.RegisterPacksComponent,u.RegisterDownloadingComponent,_.RegPlatformAccountsComponent,g.RegDownloadBlockComponent,m.RegCbtLoginComponent,v.RegCbtShopComponent,y.ProjectNamePipe],providers:[f.RegistrationService,a.CoreRouterModule.forRoot(s.STATES)]})],(function(){}));t.RegistrationModule=s},255:function(e,t,n){"use strict";function i(e,t){return'<gj-animated>\n    <div class="'+C+'__hint"\n      gj-appear\n      ng-if="\n        !$ctrl.registrationForm.'+e+".$pending &&\n        (\n          $ctrl.registrationForm."+e+".$touched ||\n          (\n            $ctrl.registrationForm."+e+".$focused &&\n            $ctrl.registrationForm."+e+'.$invalid\n          )\n        )"\n      ng-class="$ctrl.getValidationClasses($ctrl.registrationForm.'+e+')"\n      ng-messages="$ctrl.registrationForm.'+e+'.$error">\n      '+Object.keys(t).map((function(e){return'<div ng-message="'+e+'">'+t[e]+"</div>"})).join("\n")+'\n    </div>\n    <div ng-if="$ctrl.registrationForm.'+e+'.$pending" class="'+C+'__hint">'+h.i18n.LOADING+"</div>\n  </gj-animated>"}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(65),s=n(2),r=n(18),c=n(48),l=n(38),d=n(55),p=n(109),u=n(58),_=n(84),g=n(8),m=n(256),v=n(31),h=n(22),f=n(49),y=n(59),E=n(39),C="gj-register",b=10;function O(e,t,n,i,o,a,s,r,c,l,d,p,u,_){this.config=e,this.registrationConfig=t,this.stateService=n,this.scope=i,this.timeout=o,this.interval=a,this.q=s,this.toastsCtrl=r,this.registrationService=c,this.redirectService=l,this.tracking=d,this.mailcheck=p,this.detect=u,this.download=_,this.data={email:"",nickname:"",password:"",passwordRepeat:"",agreement:!1,eula:!1,captcha:""},this.nicknamePattern=/^[a-zA-Z]\w*$/,this.captchaPattern=/^[a-zA-Z0-9]\w*$/,this.redeemPattern=/^([a-zA-Z0-9]{5}-?){6}$/,this.isValidating=!1,this.emailNotConfirmed=!1,this.emailSuggestion=null,this.isAlreadyExists=!1,this.isLoading=!1,this.canResend=!0,this.timeLeft=60,this.resendTime=null,this.isRecaptcha=!1,this.isBonus=!1,this.isEulaExpanded=!1,this.isWindows=!0,this.isMobile=!1,this.isRecaptcha=Boolean(this.config.grecaptcha),this.isBonus=Boolean(this.config.isBonus);try{var g=v.detectOS();this.isMobile=g===v.OS.Android||g===v.OS.iOS,this.isWindows=g===v.OS.Windows}catch(e){}}t.setFormTouched=function(e){e.hasOwnProperty("$submitted")&&a.forEach(e.$error,(function(e){a.forEach(e,(function(e){e.hasOwnProperty("$touched")&&e.$setTouched(),t.setFormTouched(e)}))}))},Object.defineProperty(O.prototype,"links",{get:function(){return window.preconfig.links},enumerable:!0,configurable:!0}),O.prototype.ngAfterViewInit=function(){var e=this;if(this.config.isLogged)return this.registrationService.activate().then((function(){e.tracking.trackRegistration(),e.tracking.trackCustomEvent("reactivation",{})})),void this.stateService.go(this.registrationConfig.successState);var t=m.waitFor((function(){return Boolean(e.registrationForm)}),0,500);this.q.when(t).then((function(){e.captcha=window.captchaComponent,e.recaptcha=window.recaptchaComponent,e.init()}))},O.prototype.init=function(){var e=this,t=this.registrationForm.email,n=this.registrationForm.nickname,i=this.registrationForm.password,o=this.registrationForm.passwordRepeat;this.data.email&&(t.$setDirty(),t.$setTouched()),t.$asyncValidators.async=function(n,i){return e.registrationService.validateEmail(n).then((function(n){return e.emailNotConfirmed=!1,e.isAlreadyExists=!1,t.$setValidity("busy",!0),t.$setValidity("wrong",!0),t.$setValidity("notconfirmed",!0),!0})).catch((function(i){switch(e.emailNotConfirmed=!1,e.isAlreadyExists=!1,t.$setValidity("busy",!0),t.$setValidity("wrong",!0),t.$setValidity("notconfirmed",!0),i){case y.EmailStatuses.Busy:e.isAlreadyExists=!0,e.registrationService.setEmail(n),t.$setValidity("busy",!1);break;case y.EmailStatuses.NotConfirmed:e.emailNotConfirmed=!0,t.$setValidity("notconfirmed",!1);break;default:t.$setValidity("wrong",!1)}return!1}))},n.$asyncValidators.async=function(t,i){return e.registrationService.validateNickname(t).then((function(e){return n.$setValidity("busy",!0),n.$setValidity("wrong",!0),!0})).catch((function(e){return n.$setValidity("busy",!0),n.$setValidity("wrong",!0),e===y.NicknameStatuses.Busy?n.$setValidity("busy",!1):n.$setValidity("wrong",!1),!1}))};var a=!(n.$validators.firstdigit=function(e){return!/^[0-9]+.*/.test(e)});i.$validators.matches=function(e){return e=!o.$viewValue||e===o.$viewValue,a?a=!1:(a=!0,o.$validate()),e},o.$validators.matches=function(e){return e=e===i.$viewValue,a?a=!1:(a=!0,i.$validate()),e},t.$viewChangeListeners.push((function(){var n=t.$viewValue;e.emailSuggestion=null,n&&e.mailcheck.check(n).then((function(t){e.scope.$apply((function(){e.emailSuggestion=t}))}))}))},O.prototype.toggleEula=function(){this.isEulaExpanded=!this.isEulaExpanded},O.prototype.close=function(){this.stateService.go("empty")},O.prototype.getValidationClasses=function(e){var t=this.registrationForm[e];e={};return t&&(t.$valid?e["--valid"]=!0:e["--invalid"]=!0,t.$touched&&(e["--touched"]=!0),t.$pending&&(e["--pending"]=!0),t.$pristine&&(e["--pristine"]=!0),t.$focused&&(e["--focused"]=!0)),e},O.prototype.focus=function(e,t){this.registrationForm[e].$focused=t},O.prototype.resetValidity=function(e,t){this.registrationForm[e].$setValidity(t,!0)},O.prototype.setRedirectHook=function(){var e=this.stateService.href(E.RegistrationRoutes.RegistrationRegister,{},{}).substring(2);this.redirectService.save(e)},O.prototype.fixEmail=function(e){this.emailSuggestion=null,this.data.email=e},O.prototype.getModels=function(){var e=["email","nickname"];return this.isRecaptcha||e.push("captcha"),e},O.prototype.submit=function(){var e=this;if(this.data.eula){if(this.registrationForm.$invalid)return t.setFormTouched(this.registrationForm),void this.toastsCtrl.create({message:h.i18n.ERROR_FORM_VALIDATION,duration:3e3,cssClass:"--error"});this.isLoading=!0;var n=window.location.pathname.split("/")[2];(this.isRecaptcha?this.recaptcha.execute().then((function(t){return e.registrationService.register({nickname:e.data.nickname,email:e.data.email,password:e.data.password,captcha:t,agreement:e.data.agreement,eula:e.data.eula,landing:n})})):this.registrationService.register({nickname:this.data.nickname,email:this.data.email,password:this.data.password,captcha:this.data.captcha,agreement:this.data.agreement,eula:this.data.eula,landing:n})).then((function(t){e.isLoading=!1;for(var n=0,i=e.getModels();n<i.length;n++){var o=i[n];e.registrationForm[o].$setValidity("wrong",void 0)}switch(t.registrationStatus){case y.RegistrationResultStatuses.Ok:e.tracking.trackRegistration(t.data.uep),e.isWindows&&!e.config.fromgame&&e.download.start(e.config.links.download+"/auto",!0),e.stateService.go(e.registrationConfig.successState||E.RegistrationRoutes.RegistrationSuccess);break;case y.RegistrationResultStatuses.Confirm:}})).catch((function(t){e.isLoading=!1,console.error(t),e.isRecaptcha?e.recaptcha.reset():(e.captcha.reload(),e.data.captcha="");for(var n,i=0,o=e.getModels();i<o.length;i++){var a=o[i];e.registrationForm[a].$setValidity("wrong",!0)}switch(t){case y.RegistrationStatuses.CaptchaError:e.isRecaptcha||(e.registrationForm.captcha.$setValidity("wrong",!1),(n=document.querySelector('input[name="captcha"]'))&&n.focus()),e.toastsCtrl.create({message:h.i18n.ERROR_CAPTCHA_WRONG,duration:4e3,cssClass:"--error"});break;case y.RegistrationStatuses.EmailBusy:e.registrationForm.email.$setValidity("busy",!1),e.registrationForm.email.$setValidity("wrong",!1);break;case y.RegistrationStatuses.EmailError:e.registrationForm.email.$setValidity("wrong",!1);break;case y.RegistrationStatuses.NicknameBusy:e.registrationForm.nickname.$setValidity("busy",!1),e.registrationForm.nickname.$setValidity("wrong",!1);break;case y.RegistrationStatuses.NicknameError:e.registrationForm.nickname.$setValidity("wrong",!1);break;case y.RegistrationStatuses.PasswordError:e.toastsCtrl.create({message:"You password is not safe, enter another one please.",duration:4e3,cssClass:"--error"});break;default:y.RegistrationStatuses.Error,e.toastsCtrl.create({message:"Unexpected server error, please try again later",duration:4e3,cssClass:"--error"})}}))}else this.toastsCtrl.create({message:h.i18n.ERROR_FORM_VALIDATION,duration:3e3,cssClass:"--error"})},O.prototype.resendConfirmation=function(e){var t=this;this.canResend=!1,this.resendTime=Date.now(),this.registrationService.resendConfirmation(e).then((function(e){var n=t.interval((function(){var e=Date.now()-t.resendTime;t.timeLeft=60-Math.floor(e/1e3),6e4<e&&(t.interval.cancel(n),t.canResend=!0,t.resendTime=null,t.timeLeft=60)}),1e3)})).catch((function(e){t.canResend=!0,t.toastsCtrl.create({message:"Unexpected server error, please try again later",duration:4e3,cssClass:"--error"})}))},u=o.__decorate([s.Component({selector:C,styles:[n(258),n(32)],template:'\n    <gj-modal (close)="$ctrl.onClose()" [closable]="false" [esc]="false" [gray]="false">\n      <div class="'+C+' gj-reg-container">\n        <div ng-if="!$ctrl.config.fromgame" class="gj-reg-close" ng-click="$ctrl.close()"></div>\n        <div class="'+C+'__content gj-reg-content --change-bg">\n          <div class="'+C+'__header">\n            \x3c!-- TODO: add logic ng-click="backAction()" --\x3e\n            \x3c!-- <div class="'+C+'__header-back" ng-if="$ctrl.isAlreadyExists"></div> --\x3e\n\n            <div class="gj-reg-header-logo">\n              <div class="gj-reg-header-logo__image"></div>\n              <div class="gj-reg-header-logo__content" ng-if="!$ctrl.isAlreadyExists">\n                <div class="gj-reg-header-logo__subtitle">'+h.i18n.GAIJIN_NET+'</div>\n                <div class="gj-reg-header-logo__title" style="text-transform: uppercase;">'+h.i18n.REGISTRATION+'</div>\n              </div>\n              <div class="gj-reg-header-logo__content" ng-if="$ctrl.isAlreadyExists">\n                <div class="gj-reg-header-logo__subtitle">'+h.i18n.ACCOUNT+'</div>\n                <div class="gj-reg-header-logo__title">'+h.i18n.GAIJIN_NET+'</div>\n              </div>\n            </div>\n\n            <div class="'+C+'__login" ng-if="!$ctrl.isAlreadyExists">\n              <div class="'+C+'__login-text">\n                '+h.i18n.SIGN_IN_TITLE+"\n                <br/>\n                "+h.i18n.LOGIN_TO_PLAY+'\n              </div>\n              <a href="{{ $ctrl.config.links.login }}"\n                ng-click="$ctrl.setRedirectHook()"\n                gj-track-click="btn_signin"\n                class="gj-reg-button --outline --small">'+h.i18n.LOG_IN+'</a>\n            </div>\n          </div>\n          <div class="'+C+'__header-divider"></div>\n          <div class="'+C+'__blocks">\n            <div class="'+C+'__left-block">\n              <form name="$ctrl.registrationForm" novalidate ng-submit="$ctrl.submit()">\n                <div class="'+C+'__form-control">\n                  <div class="'+C+'__row">\n                    <div class="'+C+'__col"\n                      ng-class="$ctrl.getValidationClasses(\'email\')">\n                      <input class="'+C+'__input custEmail"\n                        ng-class="{ \'--soft-invalid\': $ctrl.isAlreadyExists }"\n                        required\n                        tabindex="'+ ++b+'"\n                        ng-model-options="{ debounce: 400 }"\n                        autofocus\n                        ng-focus="$ctrl.focus(\'email\', true)"\n                        ng-blur="$ctrl.focus(\'email\', false)"\n                        name="email"\n                        type="email"\n                        placeholder="'+h.i18n.PLACEHOLDER_EMAIL+'"\n                        ng-model="$ctrl.data.email">\n                    </div>\n                  </div>\n                  <div class="'+C+'__spacer">\n                    '+i("email",{required:h.i18n.ERROR_EMAIL_REQUIRED,email:h.i18n.ERROR_EMAIL_WRONG,wrong:h.i18n.ERROR_EMAIL_WRONG,notconfirmed:h.i18n.ERROR_EMAIL_NOTCONFIRMED})+'\n                    <gj-animated>\n                      <div ng-if="$ctrl.emailSuggestion" class="'+C+'__hint">\n                        '+h.i18n.WARNING_EMAIL_MEANT+'\n                        <span ng-click="$ctrl.fixEmail($ctrl.emailSuggestion.full)"\n                          class="gj-reg-link">{{ $ctrl.emailSuggestion.full }}</span>?\n                      </div>\n                    </gj-animated>\n                  </div>\n                </div>\n                <div ng-show="!$ctrl.isAlreadyExists">\n                  <div class="'+C+'__form-control">\n                    <div class="'+C+'__row">\n                      <div class="'+C+'__col"\n                        ng-class="$ctrl.getValidationClasses(\'nickname\')">\n                        <input class="'+C+'__input" type="text"\n                          required\n                          autocomplete="username"\n                          autocorrect="off"\n                          autocapitalize="none"\n                          ng-model-options="{ debounce: 400 }"\n                          ng-pattern="$ctrl.nicknamePattern"\n                          ng-minlength="4"\n                          ng-maxlength="20"\n                          ng-focus="$ctrl.focus(\'nickname\', true)"\n                          ng-blur="$ctrl.focus(\'nickname\', false)"\n                          tabindex="'+ ++b+'"\n                          name="nickname"\n                          placeholder="'+h.i18n.PLACEHOLDER_NICKNAME+'"\n                          ng-model="$ctrl.data.nickname">\n                      </div>\n                    </div>\n                    <div class="'+C+'__spacer">\n                      '+i("nickname",{required:h.i18n.ERROR_NICKNAME_REQUIRED,minlength:h.i18n.ERROR_NICKNAME_LENGTH,maxlength:h.i18n.ERROR_NICKNAME_LENGTH,firstdigit:h.i18n.ERROR_NICKNAME_FIRSTDIGIT,pattern:h.i18n.ERROR_NICKNAME_FORMAT,forbidden:h.i18n.ERROR_NICKNAME_FORBIDDEN,busy:h.i18n.ERROR_NICKNAME_BUSY,wrong:h.i18n.ERROR_NICKNAME_WRONG})+'\n                    </div>\n                  </div>\n                  <div class="'+C+'__form-control">\n                    <div class="'+C+'__row --multi-column">\n                      <div class="'+C+'__col --no-check"\n                        ng-class="$ctrl.getValidationClasses(\'password\')">\n                        <input class="'+C+'__input" type="password"\n                          required\n                          name="password"\n                          ng-minlength="6"\n                          ng-maxlength="64"\n                          tabindex="'+ ++b+'"\n                          autocomplete="new-password"\n                          placeholder="'+h.i18n.PLACEHOLDER_PASSWORD+'"\n                          ng-focus="$ctrl.focus(\'password\', true)"\n                          ng-blur="$ctrl.focus(\'password\', false)"\n                          ng-model="$ctrl.data.password">\n                      </div>\n                      <div class="'+C+'__col"\n                        ng-class="$ctrl.getValidationClasses(\'passwordRepeat\')">\n                        <input class="'+C+'__input" type="password"\n                          required\n                          ng-minlength="6"\n                          tabindex="'+ ++b+'"\n                          autocomplete="new-password"\n                          name="passwordRepeat"\n                          ng-focus="$ctrl.focus(\'password\', true)"\n                          ng-blur="$ctrl.focus(\'password\', false)"\n                          placeholder="'+h.i18n.PLACEHOLDER_REPEAT+'"\n                          ng-model="$ctrl.data.passwordRepeat">\n                      </div>\n                    </div>\n                    <div class="'+C+'__spacer">\n                      '+i("password",{required:h.i18n.ERROR_PASSWORD_REQUIRED,minlength:h.i18n.ERROR_PASSWORD_LENGTH,maxlength:h.i18n.ERROR_PASSWORD_LENGTH,matches:h.i18n.ERROR_PASSWORD_MISMATCH})+'\n                    </div>\n                  </div>\n                  <div class="'+C+'__form-control">\n                    <div class="'+C+'__row">\n                      <div class="'+C+'__col"\n                        ng-class="$ctrl.getValidationClasses(\'captcha\')">\n                        <input class="'+C+'__input" type="text"\n                          required\n                          tabindex="'+ ++b+'"\n                          name="captcha"\n                          ng-minlength="6"\n                          ng-maxlength="6"\n                          ng-pattern="$ctrl.captchaPattern"\n                          ng-change="$ctrl.resetValidity(\'captcha\', \'wrong\')"\n                          autocorrect="off"\n                          autocomplete="off"\n                          autocapitalize="none"\n                          ng-focus="$ctrl.focus(\'captcha\', true)"\n                          ng-blur="$ctrl.focus(\'captcha\', false)"\n                          placeholder="'+h.i18n.PLACEHOLDER_CAPTCHA+'"\n                          ng-model="$ctrl.data.captcha">\n                      </div>\n                      <div class="'+C+'__col">\n                        <div class="'+C+'__captcha">\n                          <gj-captcha></gj-captcha>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="'+C+'__spacer">\n                      '+i("captcha",{required:h.i18n.ERROR_CAPTCHA_REQUIRED,minlength:h.i18n.ERROR_CAPTCHA_LENGTH,maxlength:h.i18n.ERROR_CAPTCHA_LENGTH,wrong:h.i18n.ERROR_CAPTCHA_WRONG,pattern:h.i18n.ERROR_CAPTCHA_FORMAT})+'\n                    </div>\n                  </div>\n                  <div class="'+C+'__spaced-block">\n                    <gj-animated>\n                      <div class="'+C+'__row">\n                        <div class="'+C+'__col --shrinked --no-check"\n                          ng-class="$ctrl.getValidationClasses(\'eula\')">\n                          <input class="'+C+'__checkbox" checked="true" id="'+C+'_policy"\n                            required\n                            name="eula"\n                            type="checkbox"\n                            ng-model="$ctrl.data.eula">\n                        </div>\n                        <div class="'+C+'__col">\n                          <label class="'+C+'__label" for="'+C+'_policy">'+h.i18n.LABEL_EULA+'</label>\n                          \x3c!-- <div class="'+C+'__expandable"\n                            ng-class="{\'--expanded\': $ctrl.isEulaExpanded }"\n                            ng-click="$ctrl.toggleEula()">'+h.i18n.TEXT_EULA+'</div> --\x3e\n                        </div>\n                      </div>\n                    </gj-animated>\n                  </div>\n                  <div class="'+C+'__row">\n                    <div class="'+C+'__col">\n                      <button tabindex="16"\n                        type="submit"\n                        ng-disabled="$ctrl.registrationForm.$pending"\n                        class="gj-reg-button --filled"\n                        ng-class="{\n                          \'--disabled\': $ctrl.isLoading || $ctrl.registrationForm.$pending || !$ctrl.registrationForm.$valid,\n                          \'--loading\': $ctrl.isLoading\n                       }">\n                        '+h.i18n.BUTTON_PLAY_NOW+'\n                        </button>\n                    </div>\n                  </div>\n                </div>\n                <div ng-if="$ctrl.isAlreadyExists && !$ctrl.config.fromgame">\n                  <div class="'+C+'__form-header">\n                    <div style="color: #fff">'+h.i18n.ALREADY_HAVE+"</div>\n                    <br />\n                    <span>{{ '"+h.i18n.LOGIN_TO_PLAY_ENLISTED+"' | projectName }}</span>\n                  </div>\n                  <div class=\""+C+'__spaced-block --shrinked">\n                    <a class="gj-reg-button --filled"\n                      href="{{ $ctrl.config.links.login }}"\n                      ng-click="$ctrl.setRedirectHook()"\n                      gj-track-click="btn_signin">\n                      '+h.i18n.LOG_IN+'\n                    </a>\n                  </div>\n                  <div>\n                    <a href="{{ $ctrl.config.links.recover }}"\n                      ng-click="$ctrl.setRedirectHook()"\n                      gj-track-click="btn_recover"\n                      class="gj-reg-button --outline" style="font-size: 18px;">'+h.i18n.RECOVER_PASSWORD+'</a>\n                  </div>\n                </div>\n                <div ng-if="$ctrl.isAlreadyExists && $ctrl.config.fromgame">\n                  <div class="'+C+'__form-header">\n                    <div style="color: #fff">'+h.i18n.ALREADY_HAVE+"</div>\n                    <br />\n                    <div>"+h.i18n.SUCCESS_ALL_SET+'</div>\n                    <div style="margin:15px 0px;">'+h.i18n.SUCCESS_RETURN_TO_GAME+'</div>\n                  </div>\n                  <div>\n                    <a href="{{ $ctrl.config.links.recover }}"\n                      ng-click="$ctrl.setRedirectHook()"\n                      gj-track-click="btn_recover"\n                      class="gj-reg-button --outline --small" style="font-size: 18px;">'+h.i18n.RECOVER_PASSWORD+'</a>\n                  </div>\n                </div>\n              </form>\n            </div>\n            <div class="'+C+'__right-block">\n              <div class="'+C+'__bonus" ng-if="!$ctrl.isBonus">\n              </div>\n              <div class="'+C+'__bonus" ng-if="$ctrl.isBonus">\n                <div class="'+C+'__bonus-title">'+h.i18n.BONUS_TITLE+'</div>\n                <div class="'+C+'__bonus-item --bonus-1">\n                  <div class="'+C+'__bonus-header">\n                    <div class="'+C+'__bonus-name">'+h.i18n.BONUS1_NAME+'</div>\n                    <div class="'+C+'__bonus-desc">'+h.i18n.BONUS1_DESC+'</div>\n                  </div>\n                  <div class="'+C+'__bonus-img-large"></div>\n                </div>\n                <div class="'+C+'__bonus-item --bonus-2">\n                  <div class="'+C+'__bonus-header">\n                    <div class="'+C+'__bonus-name">'+h.i18n.BONUS2_NAME+'</div>\n                  </div>\n                  <div class="'+C+'__bonus-img-small"></div>\n                </div>\n              </div>\n              <div ng-if="!$ctrl.config.fromgame && !$ctrl.config.isBonus" class="'+C+'__platforms">\n                <a href="https://store.playstation.com/search/enlisted"\n                  target="_blank"\n                  gj-track-click="btn_ps4reg"\n                  class="'+C+'__platform-button --ps4">'+h.i18n.BUTTON_PS4+'</a>\n                <a href="https://store.playstation.com/search/enlisted"\n                  target="_blank"\n                  gj-track-click="btn_ps5reg"\n                  class="'+C+'__platform-button --ps4">'+h.i18n.BUTTON_PS5+'</a>\n                <a href="https://www.microsoft.com/p/enlisted/9nhkl695m9f2"\n                  target="_blank"\n                  gj-track-click="btn_xboxreg"\n                  class="'+C+'__platform-button --xbox">'+h.i18n.BUTTON_XBOX+"</a>\n              </div>\n            </div>\n          </div>\n          <gj-reg-platform-accounts></gj-reg-platform-accounts>\n        </div>\n      </div>\n    </gj-modal>\n  "}),o.__param(0,s.Inject(g.ConfigToken)),o.__param(1,s.Inject(f.RegistrationConfigToken)),o.__param(2,s.Inject("$state")),o.__param(3,s.Inject("$scope")),o.__param(4,s.Inject("$timeout")),o.__param(5,s.Inject("$interval")),o.__param(6,s.Inject("$q")),o.__metadata("design:paramtypes",[Object,Object,r.StateService,Object,Function,Function,Function,c.ToastController,y.RegistrationService,d.RedirectService,l.TrackingService,p.MailcheckService,_.DetectService,u.DownloadService])],O),t.RegisterComponent=u},256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1e3),new Promise((function(i,o){if(e())return i();var a=setInterval((function(){e()&&(clearInterval(a),clearTimeout(s),i())}),t),s=setTimeout((function(){e()||(clearInterval(a),o())}),n)}))}},257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}},258:function(e,t,n){},259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(18),s=n(31),r=n(84),c=n(38),l=n(39),d=n(22),p=n(8),u="gj-register-detect";_.prototype.close=function(){this.tracking.trackCustomEvent("platformClose",{platform:this.osName}),this.stateService.go("empty")},_.prototype.copyLink=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n=this;return i.__generator(this,(function(i){switch(i.label){case 0:if(e=null,!navigator.clipboard)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(this.link)];case 2:return i.sent(),e=!0,[3,4];case 3:return i.sent(),e=!1,[3,4];case 4:return[3,6];case 5:(t=document.createElement("textarea")).value=this.link,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{e=document.execCommand("copy")}catch(i){e=!1}document.body.removeChild(t),i.label=6;case 6:return this.scope.$apply((function(){n.copied=e})),this.copied&&this.timeout((function(){return n.copied=null}),5e3),[2]}}))}))},c=i.__decorate([o.Component({selector:u,styles:[n(260),n(32)],template:'\n    <gj-modal (close)="$ctrl.close()" [closable]="false" [esc]="false" [gray]="true" [mini]="true">\n      <div class="'+u+' gj-reg-container">\n        <div class="gj-reg-close" ng-click="$ctrl.close()"></div>\n        <div class="'+u+'__content gj-reg-content">\n          <div class="'+u+'__emoji"></div>\n          <div class="'+u+'__os">'+d.i18n.DETECT_HEADER+'</div>\n          <div class="'+u+"__text\">{{ '"+d.i18n.DETECT_TEXT+"' | projectName }}</div>\n\n          <div class=\""+u+'__hint">'+d.i18n.DETECT_LINK+'</div>\n          <button class="'+u+'__button --copy" ng-if="$ctrl.copied === null" ng-click="$ctrl.copyLink()">'+d.i18n.DETECT_COPY+'</button>\n          <button class="'+u+'__button --copy-done" ng-if="$ctrl.copied === true">'+d.i18n.DETECT_COPIED+'</button>\n\n          <button ng-if="$ctrl.copied === false" class="'+u+'__button --copy-error">'+d.i18n.DETECT_COPY_ERROR+'</button>\n          <div ng-if="$ctrl.copied === false" class="'+u+'__error-hint">'+d.i18n.DETECT_COPY_MANUAL+'</div>\n          <input ng-if="$ctrl.copied === false" class="'+u+'__input" readonly="readonly" type="text" value="{{ $ctrl.link }}" ng-if="$ctrl.copied === false" />\n\n          <div class="'+u+'__hint" style="margin-top: 30px">'+d.i18n.DETECT_CONSOLE+'</div>\n          <a class="'+u+'__button --ps5" target="_blank" rel="noopener noreferrer" href="https://store.playstation.com/search/enlisted"></a>\n          <a class="'+u+'__button --xbox" target="_blank" rel="noopener noreferrer" href="https://www.microsoft.com/p/enlisted/9nhkl695m9f2"></a>\n        </div>\n      </div>\n    </gj-modal>\n  '}),i.__param(0,o.Inject(p.ConfigToken)),i.__param(1,o.Inject("$state")),i.__param(2,o.Inject("$timeout")),i.__param(3,o.Inject("$scope")),i.__metadata("design:paramtypes",[Object,a.StateService,Function,Object,r.DetectService,c.TrackingService])],_);function _(e,t,n,i,o,a){switch(this.config=e,this.stateService=t,this.timeout=n,this.scope=i,this.detect=o,this.tracking=a,this.osName=null,this.copied=null,s.detectOS()){case s.OS.Android:this.osName="Android";break;case s.OS.iOS:this.osName="iOS";break;case s.OS.Linux:this.osName="Linux";break;case s.OS.Mac:this.osName="Mac OS";break;case s.OS.Windows:return this.detect.aknowleged=!0,void this.stateService.go(l.RegistrationRoutes.RegistrationRegister)}this.link=""+location.origin+this.config.links.download+"/manual",this.tracking.trackCustomEvent("platformShow",{platform:this.osName})}t.RegisterDetectComponent=c},260:function(e,t,n){},261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(18),s=n(8),r=n(48),c=n(22),l=n(59),d="gj-register-success";p.prototype.ngAfterViewInit=function(){this.config.isLogged},p.prototype.close=function(){this.stateService.go("empty")},Object.defineProperty(p.prototype,"isEmailConfirmed",{get:function(){return this.config.isEmailConfirmed},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"currentEmail",{get:function(){return this.config.email},enumerable:!0,configurable:!0}),p.prototype.resend=function(){var e=this,t=location.pathname.split("/",3)[2];this.registrationService.resendConfirmationNew({landing:t,ref:this.config.ref}).then((function(){e.toasts.create({message:c.i18n.SUCCESS_SENT,duration:3e3})})).catch((function(){e.toasts.create({message:"Error sending conirmation email, please relogin and try again.",cssClass:"--error",duration:3e3})}))},r=i.__decorate([o.Component({selector:d,styles:[n(262),n(32)],template:'\n    <gj-modal (close)="$ctrl.onClose()" [closable]="false" [esc]="false" [gray]="false">\n      <div class="'+d+' gj-reg-container">\n        <div ng-if="!$ctrl.config.fromgame" class="gj-reg-close" ng-click="$ctrl.close()"></div>\n        <div class="'+d+'__content gj-reg-content">\n        <div class="gj-register__done-art" ng-if="!$ctrl.currentEmail"></div>\n          <div class="'+d+'__left-block" ng-class="{ \'--no-bg\': !$ctrl.currentEmail }">\n            <div class="gj-reg-header-logo">\n              <div class="gj-reg-header-logo__image"></div>\n              <div class="gj-reg-header-logo__content">\n                <div class="gj-reg-header-logo__subtitle">'+c.i18n.ACCOUNT+'</div>\n                <div class="gj-reg-header-logo__title">'+c.i18n.GAIJIN_NET+'</div>\n              </div>\n            </div>\n          </div>\n          <div class="'+d+'__right-block">\n            <div class="'+d+'__spaced-block">\n              <div class="'+d+"__header\">{{ '"+c.i18n.SUCCESS_HEADER+"' | projectName }}</div>\n              \x3c!-- <div class=\""+d+'__subheader">'+c.i18n.SUCCESS_SUBHEADER+'</div> --\x3e\n            </div>\n\n            <div ng-if="$ctrl.currentEmail">\n              <div class="'+d+'__spaced-block">\n                <div class="'+d+"__main-text\">{{ '"+c.i18n.SUCCESS_TEXT+"' | projectName }}</div>\n              </div>\n              <div class=\""+d+'__email-art"></div>\n              <div class="'+d+'__spaced-block">\n                <div class="'+d+'__text --faded">'+c.i18n.SUCCESS_CONFIRMATION+'</div>\n                <div class="'+d+'__email">{{ $ctrl.currentEmail }}</div>\n              </div>\n              <div class="'+d+'__spaced-block">\n                <div class="'+d+'__text --faded --small">'+c.i18n.SUCCESS_RESEND_TEXT+' <a gj-timeout-link="15000" ng-click="$ctrl.resend()" class="gj-reg-link --orange">'+c.i18n.SUCCESS_RESEND_LINK+'</a>.</div>\n              </div>\n            </div>\n\n            <div ng-if="!$ctrl.currentEmail" class="'+d+'__spaced-block" style="padding: 30px 0">\n              <div class="'+d+"__text\">\n                <p>{{ '"+c.i18n.SUCCESS_CONFIRMED+"' | projectName }}</p>\n                <p>"+c.i18n.SUCCESS_SEE_YOU+'</p>\n              </div>\n            </div>\n\n            <div class="'+d+'__subscriptions">\n              <a target="_blank" class="gj-reg-link" href="/{{ $ctrl.config.lang }}/subscriptions">'+c.i18n.SUCCESS_MANAGE_SUBSCRIPTIONS+'</a>\n            </div>\n\n            <gj-reg-download-block ng-if="!$ctrl.config.fromgame"></gj-reg-download-block>\n            <gj-reg-platform-accounts ng-if="!$ctrl.config.fromgame"></gj-reg-platform-accounts>\n          </div>\n        </div>\n      </div>\n    </gj-modal>\n  '}),i.__param(0,o.Inject("$state")),i.__param(1,o.Inject(s.ConfigToken)),i.__metadata("design:paramtypes",[a.StateService,Object,l.RegistrationService,r.ToastController])],p);function p(e,t,n,i){this.stateService=e,this.config=t,this.registrationService=n,this.toasts=i}t.RegisterSuccessComponent=r},262:function(e,t,n){},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(18),s=n(8),r=n(22),c=n(59),l="gj-register-confirmed";d.prototype.ngOnInit=function(){var e=this,t=this.stateService.params.token;this.register.confirmTokenNew(t).then((function(t){e.isLoading=!1,e.config.isEmailConfirmed=!0})).catch((function(){e.isError=!0,e.isLoading=!1}))},d.prototype.close=function(){this.stateService.go("empty")},c=i.__decorate([o.Component({selector:l,styles:[n(264),n(32)],template:'\n    <gj-modal (close)="$ctrl.onClose()" [closable]="false" [esc]="false" [gray]="false">\n      <div class="'+l+' gj-reg-container">\n        <div>\n          <div class="gj-reg-close" ng-click="$ctrl.close()"></div>\n          <div class="'+l+'__content gj-reg-content">\n            <div class="gj-register__done-art"></div>\n            <div class="'+l+'__left-block">\n              <div class="gj-reg-header-logo">\n                <div class="gj-reg-header-logo__image"></div>\n                <div class="gj-reg-header-logo__content">\n                  <div class="gj-reg-header-logo__subtitle">'+r.i18n.ACCOUNT+'</div>\n                  <div class="gj-reg-header-logo__title">'+r.i18n.GAIJIN_NET+'</div>\n                </div>\n              </div>\n            </div>\n            <div class="'+l+'__right-block" ng-if="$ctrl.isLoading">\n              <div class="'+l+'__spaced-block">\n                <div class="'+l+'__header">'+r.i18n.CONFIRMED_LOADING+'</div>\n              </div>\n              <div class="'+l+'__spaced-block">\n                <div class="'+l+'__main-text">'+r.i18n.CONFIRMED_LOADING_TEXT+'</div>\n              </div>\n              <div class="'+l+'__email-art"></div>\n              <gj-reg-download-block viewmode="confirmed"></gj-reg-download-block>\n              <gj-reg-platform-accounts></gj-reg-platform-accounts>\n            </div>\n            <div class="'+l+'__right-block" ng-if="!$ctrl.isLoading && !$ctrl.isError">\n              <div class="'+l+'__spaced-block">\n                <div class="'+l+'__header">'+r.i18n.CONFIRMED_HEADER+'</div>\n                <div class="'+l+'__subheader">'+r.i18n.CONFIRMED_SUBHEADER+'</div>\n              </div>\n              <div class="'+l+'__spaced-block">\n                <div class="'+l+'__main-text">'+r.i18n.CONFIRMED_TEXT+'</div>\n              </div>\n              <div class="'+l+'__email-art"></div>\n              <gj-reg-download-block viewmode="confirmed"></gj-reg-download-block>\n              <gj-reg-platform-accounts></gj-reg-platform-accounts>\n            </div>\n            <div class="'+l+'__right-block" ng-if="!$ctrl.isLoading && $ctrl.isError">\n              <div class="'+l+'__spaced-block">\n                <div class="'+l+'__header">'+r.i18n.CONFIRMED_TOKEN_ERROR+'</div>\n              </div>\n              <div class="'+l+'__spaced-block">\n                <div class="'+l+'__main-text">'+r.i18n.CONFIRMED_TOKEN_ERROR_TEXT+'</div>\n              </div>\n              <div class="'+l+'__email-art"></div>\n              <gj-reg-download-block viewmode="confirmed"></gj-reg-download-block>\n              <gj-reg-platform-accounts></gj-reg-platform-accounts>\n            </div>\n          </div>\n        </div>\n      </div>\n    </gj-modal>\n  '}),i.__param(0,o.Inject("$state")),i.__param(1,o.Inject(s.ConfigToken)),i.__metadata("design:paramtypes",[a.StateService,Object,c.RegistrationService])],d);function d(e,t,n){this.stateService=e,this.config=t,this.register=n,this.isLoading=!0,this.isError=!1}t.RegisterConfirmedComponent=c},264:function(e,t,n){},265:function(e,t,n){"use strict";function i(e){return'\n  <div class="'+p+"__pack "+(e=void 0===e?"":e)+'">\n    <div class="'+p+'__pack-bg --pack-1"></div>\n    <div class="'+p+'__pack-content">\n      <div class="'+p+'__pack-header">\n        <div class="'+p+'__pack-title">'+d.i18n.PACK1_TITLE+'</div>\n        <div class="'+p+'__pack-country">'+d.i18n.PACK1_COUNRTY+'</div>\n        <div class="'+p+'__pack-flag --pack-1"></div>\n      </div>\n      <div class="'+p+'__pack-info">\n        <div class="'+p+'__pack-subtitle">'+d.i18n.PACKS_SQUAD+'</div>\n        <div class="'+p+'__pack-text">'+d.i18n.PACKS_SQUAD1+'</div>\n        <div class="'+p+'__pack-subtitle">'+d.i18n.PACKS_WEAPON+'</div>\n        <div class="'+p+'__pack-text">'+d.i18n.PACKS_WEAPON1+'</div>\n        <div class="'+p+'__pack-weapon --pack-1"></div>\n        <div class="'+p+'__pack-button gj-reg-button --filled" ng-click="$ctrl.goto(\'/register/pack?pack=1\')">\n          <div>'+d.i18n.PACKS_BUY+'</div>\n          <span></span>\n          <div class="'+p+"__pack-price\">{{ $ctrl.getPrice('pack1') }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n"}function o(e){return'\n  <div class="'+p+"__pack "+(e=void 0===e?"":e)+'">\n    <div class="'+p+'__pack-bg --pack-2"></div>\n    <div class="'+p+'__pack-content">\n      <div class="'+p+'__pack-header">\n        <div class="'+p+'__pack-title">'+d.i18n.PACK2_TITLE+'</div>\n        <div class="'+p+'__pack-country">'+d.i18n.PACK2_COUNRTY+'</div>\n        <div class="'+p+'__pack-flag --pack-2"></div>\n      </div>\n      <div class="'+p+'__pack-info">\n        <div class="'+p+'__pack-subtitle">'+d.i18n.PACKS_SQUAD+'</div>\n        <div class="'+p+'__pack-text">'+d.i18n.PACKS_SQUAD2+'</div>\n        <div class="'+p+'__pack-subtitle">'+d.i18n.PACKS_WEAPON+'</div>\n        <div class="'+p+'__pack-text">'+d.i18n.PACKS_WEAPON2+'</div>\n        <div class="'+p+'__pack-weapon --pack-2"></div>\n        <div class="'+p+'__pack-button gj-reg-button --filled" ng-click="$ctrl.goto(\'/register/pack?pack=2\')">\n          <div>'+d.i18n.PACKS_BUY+'</div>\n          <span></span>\n          <div class="'+p+"__pack-price\">{{ $ctrl.getPrice('pack2') }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n"}function a(e){return'\n  <div class="'+p+"__pack "+(e=void 0===e?"":e)+'">\n    <div class="'+p+'__pack-bg --pack-3"></div>\n    <div class="'+p+'__pack-content">\n      <div class="'+p+'__pack-header">\n        <div class="'+p+'__pack-title">'+d.i18n.PACK3_TITLE+'</div>\n        <div class="'+p+'__pack-country">'+d.i18n.PACK3_COUNRTY+'</div>\n        <div class="'+p+'__pack-flag --pack-3"></div>\n      </div>\n      <div class="'+p+'__pack-info">\n        <div class="'+p+'__pack-subtitle">'+d.i18n.PACKS_SQUAD+'</div>\n        <div class="'+p+'__pack-text">'+d.i18n.PACKS_SQUAD3+'</div>\n        <div class="'+p+'__pack-subtitle">'+d.i18n.PACKS_WEAPON+'</div>\n        <div class="'+p+'__pack-text">'+d.i18n.PACKS_WEAPON3+'</div>\n        <div class="'+p+'__pack-weapon --pack-3"></div>\n        <div class="'+p+'__pack-button gj-reg-button --filled" ng-click="$ctrl.goto(\'/register/pack?pack=3\')">\n          <div>'+d.i18n.PACKS_BUY+'</div>\n          <span></span>\n          <div class="'+p+"__pack-price\">{{ $ctrl.getPrice('pack3') }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),r=n(2),c=n(8),l=n(1),d=n(22),p="gj-register-packs",u=["ru","ua","by","kz","az","am","ge","kg","md","tj","tm","uz"],_=["be","bg","cz","dk","de","ee","es","gr","fr","hr","ie","it","cy","lv","li","lt","lu","hu","mt","nl","no","at","pl","pt","ro","si","sk","ch","fi","se","gb"];g.prototype.getPrice=function(e){return-1!==_.indexOf(this.config.geoCode)?this.currency="EUR":-1!==u.indexOf(this.config.geoCode)?this.currency="RU":this.currency="USD",{pack1:{RU:"1499 ₽",EUR:"29.99 €",USD:"29.99 $"},pack2:{RU:"1499 ₽",EUR:"29.99 €",USD:"29.99 $"},pack3:{RU:"1499 ₽",EUR:"29.99 €",USD:"29.99 $"}}[e][this.currency]},g.prototype.goto=function(e){window.open(e,"_blank")},g.prototype.close=function(){this.stateService.go("empty")},l=s.__decorate([r.Component({selector:p,styles:[n(266),n(32)],template:'\n    <gj-modal (close)="$ctrl.onClose()" [closable]="false" [esc]="false" [gray]="false" [huge]="true">\n      <div class="'+p+'">\n        <div class="'+p+'__line --top"></div>\n        <div class="'+p+'__line --bottom"></div>\n        <div class="gj-reg-close --back" ng-click="$ctrl.close()"></div>\n        <div class="'+p+'__sidebar">\n          <div class="'+p+'__sidebar-header">\n            <div class="'+p+'__sidebar-logo">\n              <div class="gj-reg-header-logo --large">\n                <div class="gj-reg-header-logo__image"></div>\n                <div class="gj-reg-header-logo__content">\n                  <div class="gj-reg-header-logo__subtitle">'+d.i18n.ACCOUNT+'</div>\n                  <div class="gj-reg-header-logo__title">'+d.i18n.GAIJIN_NET+' </div>\n                </div>\n              </div>\n              <div class="'+p+'__email" ng-if="$ctrl.config.email">\n                <div class="'+p+'__email-text">'+d.i18n.PACKS_DOWNLOAD_LINK+'</div>\n                <div class="'+p+'__email-address">{{ $ctrl.config.email }}</div>\n              </div>\n            </div>\n            <div class="'+p+'__last">\n              <div class="'+p+'__last-title">'+d.i18n.PACKS_LAST_STEP+'</div>\n              <div class="'+p+'__last-text">'+d.i18n.PACKS_ACCESS+'</div>\n            </div>\n          </div>\n          <div class="'+p+'__stars">\n            <div class="'+p+'__star">'+d.i18n.PACKS_STAR1+'</div>\n            <div class="'+p+'__star">'+d.i18n.PACKS_STAR2+'</div>\n            <div class="'+p+'__star">'+d.i18n.PACKS_STAR3+"</div>\n          </div>\n        </div>\n        "+i("--hide-mobile")+"\n        "+o("--hide-mobile")+"\n        "+a("--hide-mobile")+'\n        <div gj-swiper="'+p+'__swiper" id="'+p+'__swiper" class="swiper" [options]="{\n          slidesPerView: 1,\n          pagination: {\n            el: \'.'+p+'__pagination\',\n            clickable: true,\n          },\n        }">\n          <div class="swiper-wrapper">\n            <div class="swiper-slide">'+i()+'</div>\n            <div class="swiper-slide">'+o()+'</div>\n            <div class="swiper-slide">'+a()+'</div>\n          </div>\n          <div class="'+p+'__pagination swiper-pagination"></div>\n        </div>\n\n      </div>\n    </gj-modal>\n  '}),s.__param(0,r.Inject(c.ConfigToken)),s.__param(1,r.Inject("$state")),s.__metadata("design:paramtypes",[Object,l.StateService])],g);function g(e,t){this.config=e,this.stateService=t,this.currency="RU"}t.RegisterPacksComponent=l},266:function(e,t,n){},267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(8),s=n(22),r=n(1),c=n(58),l="gj-register-downloading";d.prototype.ngAfterViewInit=function(){this.download.start(this.config.links.download+"/manual",!0)},d.prototype.close=function(){this.stateService.go("empty")},c=i.__decorate([o.Component({selector:l,styles:[n(268),n(32)],template:'\n    <gj-modal (close)="$ctrl.onClose()" [closable]="false" [esc]="false" [gray]="false">\n      <div class="'+l+' gj-reg-container">\n        <div class="gj-reg-close" ng-click="$ctrl.close()"></div>\n        <div class="'+l+'__content gj-reg-content">\n          <div class="'+l+'__title">'+s.i18n.DOWNLOADING_TITLE+'</div>\n          <div class="'+l+'__steps">\n            <div class="'+l+'__step --icon">'+s.i18n.DOWNLOADING_LOADING+'</div>\n            <div class="'+l+'__step --arrow">'+s.i18n.DOWNLOADING_SETUP+'</div>\n          </div>\n          <div class="'+l+'__footer">\n            <div>'+s.i18n.DOWNLOADING_NOT_START_RAW+"</div>\n            <div>"+s.i18n.DOWNLOADING_FIND+"</div>\n          </div>\n        </div>\n      </div>\n    </gj-modal>\n  "}),i.__param(0,o.Inject("$state")),i.__param(1,o.Inject(a.ConfigToken)),i.__metadata("design:paramtypes",[r.StateService,Object,c.DownloadService])],d);function d(e,t,n){this.stateService=e,this.config=t,this.download=n}t.RegisterDownloadingComponent=c},268:function(e,t,n){},269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(31),s=n(22),r="gj-reg-platform-accounts";i=i.__decorate([o.Component({selector:r,styles:[n(270)],template:'\n    <div class="'+r+'" ng-if="$ctrl.isMobile">\n      <div class="'+r+'__title">'+s.i18n.PLATFORM_ACCOUNTS_TEXT+'</div>\n      <div class="'+r+'__icons">\n        <div class="'+r+'__icon --windows"></div>\n      </div>\n      <div class="'+r+'__footer">\n        <a class="'+r+'__system-requirements" href="#!/system-requirements">\n          '+s.i18n.PLATFORM_ACCOUNTS_REQUIREMENTS+"\n        </a>\n      </div>\n    </div>\n  "}),i.__metadata("design:paramtypes",[])],(function(){this.isMobile=!1;var e=a.detectOS();this.isMobile=e===a.OS.Android||e===a.OS.iOS}));t.RegPlatformAccountsComponent=i},270:function(e,t,n){},271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(8),s=n(31),r=n(22),c=n(1),l=n(39),d="gj-reg-download-block";p.prototype.gotoDetect=function(){this.stateService.go(l.RegistrationRoutes.RegistrationDetect)},i.__decorate([o.Input("viewmode"),i.__metadata("design:type",String)],p.prototype,"viewmode",void 0),c=i.__decorate([o.Component({selector:d,styles:[n(272),n(32)],template:'\n    <div class="'+d+' --{{ $ctrl.viewmode }}">\n      <div class="'+d+'__text">\n        <span ng-if="$ctrl.viewmode === \'confirmed\'">'+r.i18n.DOWNLOAD_NO_CLIENT+"<span>\n        <span ng-if=\"$ctrl.viewmode !== 'confirmed'\">"+r.i18n.DOWNLOAD_DID_NOT_START+'<span>\n      </div>\n      <div class="'+d+'__container">\n        <div class="'+d+'__wrapper">\n          <a ng-if="$ctrl.isWindows"\n            class="gj-reg-button --filled"\n            rel="nofollow"\n            gj-download-link\n            href="{{ $ctrl.config.links.download }}/manual_postreg">\n            '+r.i18n.DOWNLOAD_DOWNLOAD+'\n          </a>\n          <div ng-if="!$ctrl.isWindows" ng-click="$ctrl.gotoDetect()" class="gj-reg-button --filled">\n            '+r.i18n.DOWNLOAD_DOWNLOAD+'\n          </div>\n          \x3c!-- <div ng-if="$ctrl.viewmode === \'common\'" class="'+d+'__timeout">'+r.i18n.DOWNLOAD_TIMEOUT+'</div> --\x3e\n        </div>\n        <div class="'+d+'__requirements" [ui-sref]="$ctrl.config.systemRequirementsState">\n          '+r.i18n.DOWNLOAD_REQUIREMENTS+"\n        </div>\n      </div>\n    </div>\n  "}),i.__param(0,o.Inject(a.ConfigToken)),i.__param(1,o.Inject("$state")),i.__metadata("design:paramtypes",[Object,c.StateService])],p);function p(e,t){this.config=e,this.stateService=t,this.viewmode="common",this.isMobile=!1,this.isWindows=!0;try{var n=s.detectOS();this.isWindows=n===s.OS.Windows}catch(e){}}t.RegDownloadBlockComponent=c},272:function(e,t,n){},273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(18),s=n(39),r=n(22),c=n(8),l=n(55),d=n(49),p="gj-register-cbt";u.prototype.ngAfterViewInit=function(){this.config.isLogged&&this.stateService.go(s.RegistrationRoutes.RegistrationCbtShop)},u.prototype.createNew=function(){this.stateService.go(s.RegistrationRoutes.RegistrationRegister)},u.prototype.login=function(){this.stateService.go(s.RegistrationRoutes.RegistrationRegister)},u.prototype.close=function(){this.stateService.go("empty")},u.prototype.setRedirectHook=function(){this.redirectService.save(this.registrationConfig.continueUrl)},l=i.__decorate([o.Component({selector:p+"-login",styles:[n(112)],template:'\n    <gj-modal (close)="$ctrl.close()" [gray]="true" [mini]="true">\n      <div class="'+p+'">\n        <div class="'+p+'__close" ng-click="$ctrl.close()"></div>\n        <div class="'+p+'__title">'+r.i18n.CBT_TITLE+'</div>\n        <div class="'+p+'__text">'+r.i18n.CBT_TEXT+'</div>\n        <div class="'+p+'__buttons">\n          <button class="'+p+'__button m--clear" ng-click="$ctrl.createNew()">'+r.i18n.CBT_CREATE_NEW+'</button>\n          <div class="'+p+'__spacer"></div>\n          <a class="'+p+'__button"\n            href="{{ $ctrl.config.links.login }}"\n            ng-click="$ctrl.setRedirectHook()">'+r.i18n.CBT_LOGIN+"</a>\n        </div>\n      </div>\n    </gj-modal>\n  "}),i.__param(0,o.Inject("$state")),i.__param(1,o.Inject(c.ConfigToken)),i.__param(2,o.Inject(d.RegistrationConfigToken)),i.__metadata("design:paramtypes",[a.StateService,Object,Object,l.RedirectService])],u);function u(e,t,n,i){this.stateService=e,this.config=t,this.registrationConfig=n,this.redirectService=i}t.RegCbtLoginComponent=l},274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(18),s=n(31),r=n(22),c="gj-register-cbt";l.prototype.close=function(){this.stateService.go("empty")},a=i.__decorate([o.Component({selector:c+"-shop",styles:[n(112)],template:'\n    <gj-modal (close)="$ctrl.close()" [gray]="true" [mini]="true">\n      <div class="'+c+' m--shop">\n        <div class="'+c+'__close" ng-click="$ctrl.close()"></div>\n        <div class="'+c+'__title">'+r.i18n.CBT_TITLE+'</div>\n        <div class="'+c+'__text">'+r.i18n.CBT_TEXT_SHOP+'</div>\n        <div class="'+c+'__buttons">\n          <a class="'+c+'__button m--download" ng-if="!$ctrl.isMobile"\n            rel="nofollow" gj-download-link href="https://yupmaster.gaijinent.com/launcher/current.php?id=EnlistedLauncher">'+r.i18n.CBT_DOWNLOAD+'</a>\n          <div class="'+c+'__spacer" ng-if="!$ctrl.isMobile"></div>\n          <a class="'+c+'__button" href="https://store.gaijin.net/storefront.php?category=Enlisted"\n            target="_blank">'+r.i18n.CBT_PICK+"</a>\n        </div>\n      </div>\n    </gj-modal>\n  "}),i.__param(0,o.Inject("$state")),i.__metadata("design:paramtypes",[a.StateService])],l);function l(e){this.stateService=e,this.isMobile=!1,e=s.detectOS(),this.isMobile=e===s.OS.Android||e===s.OS.iOS}t.RegCbtShopComponent=a},275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=n(276),n=i.__decorate([o.NgModule({declarations:[n.RecaptchaComponent],providers:[n.RecaptchaComponent]})],(function(){}));t.RecaptchaModule=n},276:function(e,t,n){"use strict";function i(){return r=r||new Promise((function(e){if(s)return e();window.onRecaptchaLoad=function(){s=!0,e()};var t=document.createElement("script");t.setAttribute("src","https://www.google.com/recaptcha/api.js?render=explicit&onload=onRecaptchaLoad"),document.getElementsByTagName("head")[0].appendChild(t)}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(2),s=(n=n(8),!1),r=null;c.prototype.ngOnInit=function(){var e=this;(window.recaptchaComponent=this).disabled||i().then((function(){grecaptcha.render("grecaptcha-container",{sitekey:e.config.grecaptcha,size:"invisible",callback:function(t){e.rootScope.$apply((function(){e.callback&&e.callback(t)}))}})}))},c.prototype.ngOnDestroy=function(){this.disabled||grecaptcha.reset()},c.prototype.reset=function(){grecaptcha.reset()},c.prototype.execute=function(){if(this.disabled)throw"Cannot execute disabled recaptha";var e=this.q.defer();this.callback=function(t){t?e.resolve(t):e.reject("WRONG_CAPTCHA")};try{grecaptcha.execute()}catch(t){console.error(t),e.reject("WRONG_CAPTCHA")}return e.promise},o.__decorate([a.Input(),o.__metadata("design:type",Boolean)],c.prototype,"disabled",void 0),o=o.__decorate([a.Component({selector:"google-recaptcha",template:'\n    <div id="grecaptcha-container"></div>\n  '}),o.__param(0,a.Inject("$q")),o.__param(1,a.Inject("$rootScope")),o.__param(2,a.Inject(n.ConfigToken)),o.__metadata("design:paramtypes",[Function,Object,Object])],c);function c(e,t,n){this.q=e,this.rootScope=t,this.config=n,this.callback=null,this.disabled=!1,i()}t.RecaptchaComponent=o},277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=n(49),a.prototype.transform=function(e){return e.replace("PROJECT_NAME",this.projectName)},i=i.__decorate([o.Pipe({name:"projectName"}),i.__param(0,o.Inject(n.ProjectNameToken)),i.__metadata("design:paramtypes",[String])],a);function a(e){this.projectName=e}t.ProjectNamePipe=i},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={EULA_LINK:"https://legal.gaijin.net/eula",PRIVACY_POLICY_LINK:"https://legal.gaijin.net/privacypolicy",TOS_LINK:"https://legal.gaijin.net/termsofservice"}},31:function(e,t,n){"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.detectAdapter=function(){var e,t=document.createElement("canvas"),n=null,i=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(e){}return e&&(t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t.UNMASKED_VENDOR_WEBGL),i=e.getParameter(t.UNMASKED_RENDERER_WEBGL)),{vendor:n,name:i}},t.detectCpu=function(){return{cores:navigator.hardwareConcurrency||4}},(o=i=t.OS||(t.OS={})).Mac="mac",o.iOS="iOS",o.Windows="windows",o.Android="android",o.Linux="linux",t.detectOS=function(){var e=window.navigator.userAgent,t=window.navigator.platform,n=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n=i.Mac:-1!==["iPhone","iPad","iPod"].indexOf(t)?n=i.iOS:-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n=i.Windows:/Android/.test(e)?n=i.Android:!n&&/Linux/.test(t)&&(n=i.Linux),n}},32:function(e,t,n){},371:function(e,t,n){},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=n(8),a.prototype.trackRegistration=function(e){var t;this.trackEvent("completeRegistration","onSite","CompleteRegistration","CompleteRegistration"),e&&((t=document.createElement("iframe")).classList.add("hidden-iframe"),t.src=e,document.body.appendChild(t))},a.prototype.trackEvent=function(e,t,n,i){this.config.gtm?window.dataLayer.push({event:e}):ga&&ga("send","event",{hitType:"event",eventCategory:t,eventAction:n,eventLabel:i}),void 0!==(n=window.fbq)&&n("trackCustom",i),!this.config.yaCounter||void 0!==(i=window[this.config.yaCounter])&&i.reachGoal(e)},a.prototype.trackCustomEvent=function(e,t){this.config.gtm?window.dataLayer.push(i.__assign({event:e},t)):ga&&ga("send","event",{hitType:"event",eventCategory:e,eventAction:e});var n=window.fbq;void 0!==n&&n("trackCustom",e,t),!this.config.yaCounter||void 0!==(n=window[this.config.yaCounter])&&n.reachGoal(e,t)},o=i.__decorate([o.Injectable(),i.__param(0,o.Inject(n.ConfigToken)),i.__param(1,o.Inject("$http")),i.__metadata("design:paramtypes",[Object,Function])],a);function a(e,t){this.config=e,this.$http=t,window.dataLayer=window.dataLayer||[]}t.TrackingService=o},39:function(e,t,n){"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),(o=i=t.RegistrationRoutes||(t.RegistrationRoutes={})).RegistrationRegister="registrationRegister",o.RegistrationDetect="registrationDetect",o.RegistrationSuccess="registrationSuccess",o.RegistrationPacks="registrationPacks",o.RegistrationConfirmed="registrationConfirmed",o.RegistrationCbtShop="registrationCbtShop",o.RegistrationCbtLogin="registrationCbtLogin",o.RegistrationDownloading="registrationDownloading",o.OldRoute="oldRoute",t.STATES=[{name:i.RegistrationDownloading,url:"/downloading",template:"<gj-register-downloading></gj-register-downloading>"},{name:i.RegistrationRegister,url:"/sign-up",template:"<gj-register></gj-register>"},{name:i.RegistrationDetect,url:"/sign-up/detect",template:"<gj-register-detect></gj-register-detect>"},{name:i.RegistrationSuccess,url:"/sign-up/success",template:"<gj-register-success></gj-register-success>"},{name:i.RegistrationConfirmed,url:"/sign-up/confirm/:token",template:"<gj-register-confirmed></gj-register-confirmed>"},{name:i.OldRoute,url:"/request",redirectTo:i.RegistrationRegister}]},47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],o=(a.forRoot=function(e){function t(t){e.forEach((function(e){-1===i.indexOf(e)&&(t.state(e),i.push(e))}))}return t.$inject=["$stateProvider"],t},a);function a(){}t.CoreRouterModule=o},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=(n=n(2),{message:"",duration:0,position:"top",cssClass:"",showCloseButton:!1,idx:0}),a=(s.prototype.onClose=function(e){this.closeListeners.push(e)},s.prototype.onClick=function(e){this.clickListeners.push(e)},s.prototype.close=function(e){this.closeListeners.forEach((function(t){return t({event:"close",action:e})})),this.clickListeners=[],this.closeListeners=[]},s.prototype.click=function(){this.clickListeners.forEach((function(e){return e({event:"click",action:"click"})}))},s);function s(e){this.options=e,this.closeListeners=[],this.clickListeners=[]}function r(){this.toasts=[]}t.Toast=a,r.prototype.create=function(e){var t=this,n=0<this.toasts.length?Math.max.apply(null,this.toasts.map((function(e){return e.options.idx})))+1:0,s=(n=i.__assign(i.__assign(i.__assign({},o),e),{idx:n}),new a(n));return this.toasts.push(s),s.onClose((function(e){t.toasts.splice(t.toasts.indexOf(s),1)})),s},r.prototype.getToasts=function(){return this.toasts},n=i.__decorate([n.Injectable()],r),t.ToastController=n},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=n(2),t.RegistrationConfigToken=new n.OpaqueToken("registrationConfig"),t.ProjectNameToken=new n.OpaqueToken("projectName")},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2);n=n(8),a.prototype.save=function(e){window.localStorage.setItem("redirect",e)},a.prototype.restore=function(){var e=window.localStorage.getItem("redirect");e&&(this.$location.path(e),window.localStorage.removeItem("redirect"))},i=i.__decorate([o.Injectable(),i.__param(0,o.Inject(n.ConfigToken)),i.__param(1,o.Inject("$location")),i.__param(2,o.Inject("$http")),i.__metadata("design:paramtypes",[Object,Object,Function])],a);function a(e,t,n){this.config=e,this.$location=t,this.$http=n}t.RedirectService=i},576:function(e,t,n){n(162),n(187),e.exports=n(577)},577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(132);t=n(2),n=n(578);t.enableProdMode(),i.platformBrowserDynamic().bootstrapModule(n.AppModule)},578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(107),s=n(106),r=n(253),c=n(579),l=n(580),d=n(49),p=i.__assign(i.__assign({},s.fromPreconfig()),{app:"play4free"});n=i.__assign({},r.registrationConfiguration),n=i.__decorate([o.NgModule({imports:[a.SharedModule,r.RegistrationModule],declarations:[c.AppComponent,l.AppVideoComponent],providers:[{provide:s.ConfigToken,useValue:p},{provide:d.RegistrationConfigToken,useValue:n}]})],(function(){}));t.AppModule=n},579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(55),s=n(8);r.prototype.ngOnInit=function(){this.redirectService.restore()},a=i.__decorate([o.Component({selector:"en-app-root",styles:[n(371)],template:"\n    <gj-toasts></gj-toasts>\n    <gj-language-picker [langs]=\"['en','ru','de','fr','es','pl','zh','jp','ko']\" path=\"play4free\"></gj-language-picker>\n    <div ui-view></div>\n  "}),i.__param(1,o.Inject(s.ConfigToken)),i.__metadata("design:paramtypes",[a.RedirectService,Object])],r);function r(e,t){this.redirectService=e,this.config=t}t.AppComponent=a},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(4),a=n(2);n=n(38),i=a.EventEmitter,o.__extends(s,i),s.prototype.start=function(e,t){var n=this;(t=void 0!==t&&t)?setTimeout((function(){try{var t=document.createElement("iframe");t.classList.add("hidden-iframe"),t.src=e,document.body.appendChild(t)}catch(t){}n.emit(!0)}),200):this.emit(!0),this.tracking.trackCustomEvent("download",{url:e,iframe:t})},n=o.__decorate([a.Injectable(),o.__metadata("design:paramtypes",[n.TrackingService])],s);function s(e){var t=i.call(this)||this;return t.tracking=e,t}t.DownloadService=n},580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(2),a=n(55),s=n(8);r.prototype.ngOnInit=function(){this.redirectService.restore()},a=i.__decorate([o.Component({selector:"en-app-video-root",styles:[n(371)],template:"\n    <gj-toasts></gj-toasts>\n    <gj-background-video\n      [wide]=\"true\"\n      [loop]=\"false\"\n      [delay]=\"1000\"\n      [videos]=\"$ctrl.videos\">\n    </gj-background-video>\n    <gj-language-picker [langs]=\"['en','ru','de','fr','es','pl','zh','jp','ko']\" path=\"play4free\"></gj-language-picker>\n    <div ui-view></div>\n  "}),i.__param(1,o.Inject(s.ConfigToken)),i.__metadata("design:paramtypes",[a.RedirectService,Object])],r);function r(e,t){this.redirectService=e,this.config=t,this.videos=[],this.videos=[{src:"https://static.enlisted.net/i/lp/back.mp4",type:"video/mp4"},{src:"https://static.enlisted.net/i/lp/back.ogv",type:"video/ogg"},{src:"https://static.enlisted.net/i/lp/back.webm",type:"video/webm"}]}t.AppVideoComponent=a},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o,a,s,r,c,l=n(4),d=n(2),p=n(8),u=n(108),_=n(257);function g(e,t,n){this.config=e,this.$http=t,this.userService=n,this.email=""}(n=i=t.NicknameStatuses||(t.NicknameStatuses={})).Busy="busy",n.Error="error",n.Warning="warning",n.Ok="ok",(n=o=t.EmailStatuses||(t.EmailStatuses={})).Busy="busy",n.NotConfirmed="not_confirmed",n.Error="error",n.Warning="warning",n.Ok="ok",(n=a=t.RegistrationStatuses||(t.RegistrationStatuses={})).Error="error",n.CaptchaError="captcha_error",n.NicknameBusy="nickname_busy",n.NicknameError="nickname_error",n.EmailError="email_error",n.EmailBusy="email_busy",n.PasswordError="password_error",n.Ok="ok",(n=s=t.LoginStatuses||(t.LoginStatuses={})).Error="error",n.EmailNotFound="email_notfound",n.WrongPassword="password_wrong",n.Ok="ok",(n=r=t.RegistrationResultStatuses||(t.RegistrationResultStatuses={})).Ok="OK",n.Confirm="CONFIRM",(c=t.LoginResultStatuses||(t.LoginResultStatuses={})).Ok="OK",t.inEnum=function(e,t){return-1!==Object.values(e).indexOf(t)},g.prototype.setEmail=function(e){this.email=e},g.prototype.getEmail=function(){return this.email},g.prototype.validateNickname=function(e){return this.$http.get("/"+this.config.lang+"/checkers/type/nick/value/"+e+"/?_="+Math.random()).then((function(e){if(200===e.status)return i.Ok;throw i.Error})).catch((function(e){if(406!==e.status)throw i.Error;if("NICKINUSE"!==e.data.error)throw i.Error;throw i.Busy}))},g.prototype.validateEmail=function(e){return this.$http.get("/"+this.config.lang+"/checkers/type/email/value/"+e+"/?_="+Math.random()).then((function(e){if(200===e.status)return o.Ok;throw o.Error})).catch((function(e){if(406!==e.status)throw o.Error;switch(e.data.error){case"LOGININUSE":throw o.Busy;case"LOGINNOTCONFIRMED":throw o.NotConfirmed;default:throw o.Error}}))},g.prototype.resendConfirmation=function(e){return this.$http({url:"/"+this.config.lang+"/register/reSendMail/",data:{email:e},method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}).then((function(e){return e}))},g.prototype.register=function(e){var t=this;return this.$http({url:"/"+this.config.lang+"/register/",data:l.__assign(l.__assign({},e),{isRecaptcha:!!this.config.grecaptcha,doi:this.config.doi,app:this.config.app}),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}).then((function(n){if(200!==n.status)throw a.Error;var i=n.data;switch(i.result.registrationStatus){case r.Ok:window.echash_m=e.email,t.userService.setUser({userId:i.result.userId,email:e.email,nickname:e.nickname});break;case r.Confirm:t.userService.setUser({email:e.email,nickname:e.nickname})}return i.result})).catch((function(e){if(406!==e.status)throw a.Error;switch(e.data.error){case"CAPTCHA":throw a.CaptchaError;case"LOGINERROR":case"WRONGEMAIL":case"NOEMAILPROVIDED":case"BADDOMAIN":throw a.EmailError;case"NICKINUSE":throw a.NicknameBusy;case"NICKNAME_ERROR":throw a.NicknameError;case"PASSWORD_LENGTH":case"PASSWORD_REPEAT_LENGTH":case"PASSWORD_MYST_BE_EQUAL":throw a.PasswordError;default:throw a.Error}}))},g.prototype.activate=function(){return this.$http({url:"/"+this.config.lang+"/register/activate",data:{},method:"POST"}).then((function(e){if(200===e.status){var t=e.data;return window.echash_m=e.data.data.email,t}}))},g.prototype.confirmToken=function(e){var t=this;return this.$http({url:"/"+this.config.lang+"/register/checkToken/",data:{token:e},method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}).then((function(e){if(200===e.status)return e=e.data,t.userService.setUser({userId:e.user_id,email:e.email,nickname:e.nickname}),e}))},g.prototype.resendConfirmationNew=function(e){return this.$http({url:"/"+this.config.lang+"/register/requestConfirmation/",data:{landing:e.landing,ref:e.ref},method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}).then((function(e){return e}))},g.prototype.confirmTokenNew=function(e){var t=this;return this.$http({url:"/"+this.config.lang+"/register/confirm/",data:{token:e},method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}).then((function(e){if(200===e.status)return e=e.data,t.userService.setUser({userId:e.user_id,email:e.email,nickname:e.nickname}),e}))},g.prototype.login=function(e){var t=this;return this.$http({url:"/"+this.config.lang+"/login/",data:e,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}}).then((function(e){if(200===e.status)return(e=e.data).loginStatus===c.Ok&&t.userService.setUser({userId:e.data.userId,email:e.data.email,nickname:e.data.nickname}),e})).catch((function(e){if(406!==e.status)throw s.Error;switch(e.data.error){case"EMAIL_NOTFOUND":throw s.EmailNotFound;case"WRONGPASSWORD":throw s.WrongPassword;default:throw s.Error}}))},g.prototype.logout=function(){return this.$http({url:"/"+this.config.lang+"/logout/",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e}))},g.prototype.claimReward=function(e){console.log(this.config);var t="reward_"+e+(this.config.email?"_"+_.hash(this.config.email):"").substr(0,5),n="true"===localStorage.getItem(t);return this.config.email&&n?null:(localStorage.setItem(t,"true"),this.$http({url:"/"+this.config.lang+"/register/reward/?r="+e,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e})))},u=l.__decorate([d.Injectable(),l.__param(0,d.Inject(p.ConfigToken)),l.__param(1,d.Inject("$http")),l.__metadata("design:paramtypes",[Object,Function,u.UserService])],g),t.RegistrationService=u},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=n(2),t.ConfigToken=new n.OpaqueToken("config"),t.fromPreconfig=function(){return{cdnUrl:preconfig.cdnUrl,ref:preconfig.ref,lang:preconfig.lang,geoCode:preconfig.geoCode,isLogged:preconfig.isLogged,isBonus:preconfig.isBonus,isEmailConfirmed:preconfig.isEmailConfirmed,doi:preconfig.doi,abTest:preconfig.ab_test,links:preconfig.links,yaCounter:preconfig.yaCounter,grecaptcha:preconfig.grecaptcha,launcher:preconfig.launcher,uepUrl:preconfig.uepUrl,gtm:preconfig.gtm,ml:preconfig.ml,email:preconfig.email,fromgame:preconfig.fromgame}}},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(367);n=n(2),a.prototype.getCookie=function(e){return o.get(e)},a.prototype.setCookie=function(e,t,n){o.set(e,t,{expires:n,path:"/",domain:document.location.hostname})},a.prototype.removeCookie=function(e){o.remove(e,{path:"/",domain:document.location.hostname})},i=i.__decorate([n.Injectable(),i.__metadata("design:paramtypes",[])],a);function a(){}t.CookiesService=i},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);n=n(2),Object.defineProperty(o.prototype,"aknowleged",{get:function(){return this._aknowleged},set:function(e){this._aknowleged=e},enumerable:!0,configurable:!0}),i=i.__decorate([n.Injectable(),i.__metadata("design:paramtypes",[])],o);function o(){this._aknowleged=!1}t.DetectService=i},85:function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.SharedRoutes||(t.SharedRoutes={})).Empty="empty",t.STATES=[{name:i.Empty,url:"/",template:"<gj-empty></gj-empty>"}]}});